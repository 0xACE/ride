<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>:While bexp</tt>While Statement</h2><p><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot"><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Formal Definition</a></span></a></span></p><p>The simplest <tt>:While</tt> loop is :</p><pre>[1]   I←0
[2]   :While I&lt;100
[3]       expr1
[4]       expr2
[5]       I←I+1
[6]   :EndWhile</pre><p>Unless <tt>expr1</tt> or <tt>expr2</tt> alter the value of <tt>I</tt>, the above code will execute lines <tt>[3-4]</tt> 100 times.  This loop has a single condition; the value of <tt>I</tt>.  The purpose of the <tt>:EndWhile</tt> statement is solely to mark the end of the iteration.  It acts the same as if it were a branch statement, branching back to the <tt>:While</tt> line.</p><p>An alternative way to terminate a <tt>:While</tt> structure is to use a <tt>:Until</tt> statement.  This allows you to add a second condition.  The following example reads a native file sequentially as 80-byte records until it finds one starting with the string <tt>'Widget'</tt> or reaches the end of the file.</p><pre>[1]   I←0
[2]   :While I&lt;⎕NSIZE ¯1
[3]       REC←⎕NREAD ¯1 82 80
[4]       I←I+⍴REC
[5]   :Until 'Widget'≡6⍴REC</pre><p>Instead of single conditions, the tests at the beginning and end of the loop may be defined by more complex ones using <tt>:AndIf</tt> and <tt>:OrIf</tt>.  For example:</p><pre>[1]   :While 100&gt;i
[2]   :AndIf 100&gt;j
[3]       i j←foo i j
[4]   :Until 100&lt;i+j
[5]   :OrIf i&lt;0
[6]   :OrIf j&lt;0</pre><p>In this example, there are complex conditions at both the start and the end of the iteration.  Each time around the loop, the system tests that both <tt>i</tt> and <tt>j</tt> are less than or equal to 100.  If either test fails, the iteration stops.  Then, after <tt>i</tt> and <tt>j</tt> have been recalculated by <tt>foo</tt>, the iteration stops if <tt>i+j</tt> is equal to or greater than 100, or if either <tt>i</tt> or <tt>j</tt> is negative.</p><script src="../../../help.js"></script></body>
</html>