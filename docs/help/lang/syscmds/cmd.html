<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>)CMD cmd</tt>Windows Command Processor </h2><p>This command allows Windows Command Processor or UNIX shell commands to be given from APL.  <tt>)CMD</tt> is a synonym of <tt>)SH</tt>.  Either command may be given in either environment (Windows or UNIX) with exactly the same effect.  <tt>)CMD</tt> is probably more natural for the Windows user.  This section describes the behaviour of <tt>)CMD</tt> and <tt>)SH</tt> under Windows.  See <a href="sh.html#Execute(UNIX)Command" class="MCXref_0">Execute (UNIX) Command </a> for a discussion of the behaviour of these commands under UNIX.</p><p>The system functions <a href="../sysfns/execute-unix-command.html#Execute_UNIX_Command:"><tt>⎕SH</tt></a> and <a href="../sysfns/execute-windows-command.html#ExecuteWindowsCommand:"><tt>⎕CMD</tt></a> provide similar facilities but may be executed from within APL code. </p><p>Note that under Windows, you may not execute <tt>)CMD</tt> without a command.  If you wish to, you can easily open a new Command Prompt window outside APL.</p><h4>Example</h4><pre>      )CMD DIR
 
 Volume in drive C has no label 
 Directory of C:\PETE\WS
 
.            &lt;DIR&gt;     5-07-94  3.02p
..           &lt;DIR&gt;     5-07-94  3.02p
SALES    DWS    110092 5-07-94  3.29p
EXPENSES DWS    154207 5-07-94  3.29p</pre><p>If <b>cmd</b> issues prompts and expects user input, it is <b>ESSENTIAL</b> to explicitly redirect input and output to the console.  If this is done, APL detects the presence of a "<tt>&gt;</tt>" in the command line and runs the command processor in a visible window and does not direct output to the pipe.  If you fail to do this your system will appear to hang because there is no mechanism for you to receive or respond to the prompt.</p><h4>Example </h4><pre>      )CMD DATE &lt;CON &gt;CON</pre><p>(Command Prompt window appears)</p><pre class="Code">Current date is Wed 19-07-1995<br />Enter new date (dd-mm-yy): 20-07-95</pre><p>(Command Prompt window disappears)</p><h4>Implementation Notes</h4><p>The argument of )<tt>CMD</tt> is simply passed to the appropriate command processor for execution and its output is received using an <span class="Italic">unnamed pipe</span>.  </p><p>By default, <tt>)CMD</tt> will execute the string <tt>('cmd.exe /c',Y)</tt> where <tt>Y</tt> is the argument given to <tt>)CMD</tt>.  However, the implementation permits the use of alternative command processors as follows:</p><p>Before execution, the argument is prefixed and postfixed with strings defined by the APL parameters CMD_PREFIX and CMD_POSTFIX. The former specifies the name of your command processor and any parameters that it requires. The latter specifies a string which may be required. If CMD_PREFIX is not defined, it defaults to the name defined by the environment variable COMSPEC followed by "\c".  If COMSPEC is not defined, it defaults to COMMAND.COM or CMD.EXE as appropriate. If CMD_POSTFIX is not defined, it defaults to an empty vector.</p><p> </p></body>
</html>