<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>)COPY {ws {nms}}</tt>Copy Workspace </h2><p>This command brings all or selected global objects <tt>nms</tt> from a stored workspace with the given name.  A stored workspace is one which has previously been saved with the system command <tt>)SAVE</tt> or the system function <tt>⎕SAVE</tt>.  See  <a href="../intro/workspaces.html#Workspaces" class="MCXref_0">Workspaces</a> for the rules for specifying a workspace name.</p><p>If the list of names is excluded, all defined objects (including namespaces) are copied.  </p><p>If the workspace name identifies a valid, readable workspace, the system reports the workspace name, "<tt>saved</tt>" and the date and time when the workspace was last saved.</p><h4>Examples</h4><pre>      )COPY WS/UTILITY
WS/UTILITY saved Mon Nov  1 13:11:19 1992
 
      )COPY TEMP ⎕LX FOO X A.B.C
./TEMP saved Mon Nov  1 14:20:47 1992
not found X</pre><p>Copied objects are defined at the global level in the active workspace.  Existing global objects in the active workspace with the same name as a copied object are replaced.  If the copied object replaces either a function in the state indicator, or an object that is an operand of an operator in the state indicator, or a function whose left argument is being executed, the original object remains defined until its execution is completed or it is no longer referenced by an operator in the state indicator.  If the workspace name is not valid or does not exist or if access to the workspace is not authorised, the system reports <tt>ws not found</tt>.</p><p>You may copy an object from a namespace by specifying its full pathname.  The object will be copied to the current namespace in the active workspace, losing its original parent and gaining a new one in the process.  You may only copy a GUI object into a namespace that is a suitable parent for that object.  For example, you could only copy a Group object from a saved workspace if the current namespace in the active workspace is itself a Form, SubForm or Group.</p><p>If the workspace name identifies a file that is not a workspace, the system reports <tt>bad ws</tt>. </p><p>If the source workspace is too large to be loaded, the system reports <tt>ws too large</tt>.</p><p>When copying data between Classic and Unicode Editions, <tt>)COPY</tt> will fail with <tt>TRANSLATION ERROR</tt> if <span class="Italic">any</span> object in the source workspace fails conversion between Unicode and <tt>⎕AV</tt> indices, whether or not that object is specified by <tt>nms</tt>. See <a href="../sysfns/avu.html#AtomicVectorUnicode:" class="MCXref_0">Note</a> for further details.</p><p>If "<tt>ws</tt>" is omitted, the file open dialog box is displayed and all objects copied from the selected workspace.</p><p>If the list of names is included, the names of system variables may also be included and copied into the active workspace.  The global referents will be copied.</p><p>If an object is not found in the stored workspace, the system reports <tt>not found</tt> followed by the name of the object.</p><p>If the list of names includes the name of:</p><ul><li value="1">an Instance of a Class but not the Class itself</li><li value="2">a Class but not a Class upon which it depends</li><li value="3">an array or a namespace that contains a ref to another namespace, but not the namespace to which it refers</li></ul><p>the dependant object(s) <b>will also be copied</b> but will be <b>unnamed</b> and <b>hidden</b>. In such as case, the system will issue a warning message.</p><p>For example, if a saved workspace named CFWS contains a Class named <tt>#.CompFile</tt> and an Instance (of <tt>CompFile</tt>) named <tt>icf</tt>, </p><pre>      )COPY CFWS icf
.\CFWS saved Fri Mar 03 10:21:36 2006
copied object created an unnamed copy of class #.CompFile</pre><p>The existence of a hidden copy can be confusing, especially if it is a hidden copy of an object which had a name which is in use in the current workspace. In the above example, if there is a class called <tt>CompFile</tt> in the workspace into which <tt>icf</tt> is copied, the copied instance may <span class="Italic">appear</span> to be an instance of the <span class="Italic">visible </span><tt>CompFile</tt>, but it will actually be an instance of the hidden <tt>CompFile</tt> - which may have very different (or perhaps worse: very slightly different) characteristics to the named version.</p><p>If you copy a Class without copying its Base Class, the Class can be used (it will use the invisible copy of the Base Class), but if you edit the Class, you will either be unable to save it because the editor cannot find the Base Class, or - if there is a visible Class of that name in the workspace - it will be used as the Base Class. In the latter case, the invisible copy which was brought in by <tt>)COPY</tt> will now disappear, since there are no longer any references to it - and if these two Base Classes were different, the behaviour of the derived Class will change (and any changes made to the invisible Base Class since it was copied will be lost).</p></body>
</html>