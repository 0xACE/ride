<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../../help.css"></head>
<body><h3>Namespace Script Example</h3><p>The <a href="diarystuff-example-namespace.html">DiaryStuff</a> example illustrates the manner in which classes may be defined and used in a Namespace script.</p><p><a href="diarystuff-example-namespace.html">DiaryStuff</a> defines two Classes named <tt>Diary</tt> and <tt>DiaryEntry</tt>.</p><p><tt>Diary</tt> contains a (private) Field named <tt>entries</tt>, which is simply a vector of instances of <tt>DiaryEntry</tt>. These are 2-element vectors containing a .NET DateTime object and a description.</p><p>The <tt>entries</tt> Field is initialised to an empty vector of <tt>DiaryEntry</tt> instances which causes the invocation of the default constructor <tt>DiaryEntry.Make0</tt> when <tt>Diary</tt> is fixed. See <a href="../constructors/empty-arrays-of-instances-why.html#EmptyArraysOfInstances" class="MCXref_0">Empty Arrays of Instances: Why ?</a> for further explanation.</p><p>The <tt>entries</tt> Field is referenced through the <tt>Entry</tt> Property, which is defined as the <a href="../class-members/props/default-property.html">Default Property</a>. This allows individual entries to be referenced and changed using indexing on a <tt>Diary</tt> Instance.</p><p>Note that <tt>DiaryEntry</tt> is defined in the script first (before <tt>Diary</tt>) because it is referenced by the initialisation of the <tt>Diaries.entries</tt> Field </p><p>Create a new instance of <tt>Diary</tt>.</p><pre>      D←⎕NEW DiaryStuff.Diary</pre><p>Add a new entry "meeting with John at 09:00 on April 30<sup>th"</sup></p><pre>      D.Add(2006 4 30 9 0)'Meeting with John'
 30/04/2006 09:00:00  Meeting with John </pre><p>Add another diary entry "Dentist at 10:00 on April 30<sup>th".</sup></p><pre>      D.Add(2006 4 30 10 0)'Dentist'
 30/04/2006 10:00:00  Dentist </pre><p>One of the benefits of the Namespace Script is that Classes defined within it (which are typically <span class="Italic">related</span>) may be used <span class="Italic">independently</span>, so we can create a stand-alone instance of <tt>DiaryEntry</tt>; "Doctor at 11:00"...</p><pre>  Doc←⎕NEW DiaryStuff.DiaryEntry((2006 4 30 11 0)'Doctor')
      Doc
 30/04/2006 11:00:00  Doctor </pre><p>... and then use it to replace the second Diary entry with indexing:</p><pre>      D[2]←Doc</pre><p>and just to confirm it is there...</p><pre>      D[2]
 30/04/2006 11:00:00  Doctor </pre><p>What am I doing on the 30<sup>th</sup>?</p><pre>      D.DoingOn 2006 4 30
  30/04/2006 09:00:00  Meeting with John    ...
  ... 30/04/2006 11:00:00  Doctor  </pre><p>Remove the 11:00 appointment...</p><pre>      D.Remove 2006 4 30 11 0
1</pre><p>and the complete Diary is...</p><pre>      ⌷D
  30/04/2006 09:00:00  Meeting with John  </pre></body>
</html>