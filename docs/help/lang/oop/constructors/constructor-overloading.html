<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../../help.css"></head>
<body><h3>Constructor Overloading</h3><p>NameList header syntax is used to define different versions of a Constructor each with a different number of parameters, referred to as its <span class="Italic">signature</span>. See<a href="../../defined-functions-and-operators/namelists.html" class="MCXref_0">Namelists</a> for details. The <span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Clover Class</a></span> illustrates this principle.</p><p>In deciding which Constructor to call, APL matches the shape of the Constructor argument with the signature of each of the Constructors that are defined. If a constructor with the same number of arguments exists (remembering that 0 arguments will match a niladic Constructor), it is called. If there is no exact match, and there is a Constructor with a general signature (an un-parenthesised right argument), it is called. If no suitable constructor is found, a <tt>LENGTH ERROR</tt> is reported.</p><p>There may be one and only one constructor with a particular signature.</p><p>A Constructor function may not call another Constructor function and a constructor function may not be called directly from outside the Class. The only way a Constructor function may be invoked is by <tt>⎕NEW</tt>. See <a href="base-constructors.html" class="MCXref_0">Base Constructors</a> for further details.</p><p>In the <span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Clover Class</a></span> example Class, the following Constructors are defined:</p><table><tr><th class="Left">Constructor</th><th class="Left">Implied argument</th></tr><tr><td><tt>Make1</tt></td><td>1-item vector</td></tr><tr><td><tt>Make2</tt></td><td>2-item vector</td></tr><tr><td><tt>Make3</tt></td><td>3-item vector</td></tr><tr><td><tt>Make0</tt></td><td>No argument</td></tr><tr><td><tt>MakeAny</tt></td><td>Any array accepted</td></tr></table><p>In the following examples, the <tt>Make</tt> function (see <span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Clover Class</a></span>  for details) displays:</p><pre>&lt;shape of argument&gt; &lt;name of Constructor called&gt;&lt;argument&gt;
(see function make)</pre><p>Creating a new Instance of Clover with a 1-element vector as the Constructor argument, causes the system to choose the <tt>Make1</tt> Constructor. Note that, although the argument to <tt>Make1</tt> is a 1-element vector, this is disclosed as the list of arguments is unpacked into the (single) variable <tt>arg1</tt>.</p><pre>      (⎕NEW Clover(,1)).Con
   Make1  1</pre><p>Creating a new Instance of Clover with a 2- or 3-element vector as the Constructor argument causes the system to choose <tt>Make2</tt>, or <tt>Make3</tt> respectively. </p><pre>      (⎕NEW Clover(1 2)).Con
 2  Make2  1 2 
      (⎕NEW Clover(1 2 3)).Con
 3  Make3  1 2 3 </pre><p>Creating an Instance with any other Constructor argument causes the system to choose <tt>MakeAny</tt>.</p><pre>      (⎕NEW Clover(⍳10)).Con
 10  MakeAny  1 2 3 4 5 6 7 8 9 10
      (⎕NEW Clover(2 2⍴⍳4)).Con
 2 2  MakeAny  1 2 
               3 4</pre><p>Note that a scalar argument will call <tt>MakeAny</tt> and not <tt>Make1</tt>.</p><pre>      (⎕NEW Clover 1).Con
   MakeAny  1</pre><p>and finally, creating an Instance without a Constructor argument causes the system to choose <tt>Make0</tt>.</p><pre>      (⎕NEW Clover).Con
   Make0  0</pre><script src="../../../../help.js"></script></body>
</html>