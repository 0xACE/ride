<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><a name="StateIndicator"></a>The State Indicator</h2><p>The state of execution is dynamically recorded in the STATE INDICATOR.  The state indicator identifies the chain of execution for operators, functions and the evaluated or character input/output system variables (<tt>⎕</tt> and <tt>⍞</tt>).  At the top of the state indicator is the most recently activated operation.</p><p>Execution may be suspended by an interrupt, induced by the user, the system, or by a signal induced by the system function <tt>⎕SIGNAL</tt> or by a stop control set by the system function <tt>⎕STOP</tt>.  If the interrupt (or event which caused the interrupt) is not defined as a trappable event by the system variable <tt>⎕TRAP</tt>, the state indicator is cut back to the first of either a defined operation or the evaluated input prompt (<tt>⎕</tt>) such that there is no locked defined operation in the state indicator.  The topmost operation left in the state indicator is said to be SUSPENDED.  Other operations in the chain of execution are said to be PENDENT.</p><p>The state indicator may be examined when execution is suspended by the system commands <tt>)SI</tt> and <tt>)SINL</tt>.  The names of the defined operations in the state indicator are given by the system functions <tt>⎕SI</tt> and <tt>⎕XSI</tt> while the line numbers at which they are suspended or pendent is given by the system variable <tt>⎕LC</tt>.</p><p>Suspended execution may be resumed by use of the Branch function (see  <a href="../primfns/branch.html#Branch" class="MCXref_0">Branch</a>). Whilst execution is suspended, it is permitted to enter any APL expression for evaluation, thereby adding to the existing state indicator.  Therefore, there may be more than one LEVEL OF SUSPENSION in the state indicator.  If the state indicator is cut back when execution is suspended, it is cut back no further than the prior level of suspension (if any).</p><h4>Examples</h4><pre>     ∇ F
[1]    G
     ∇
 
     ∇ G
[1]    'FUNCTION G'+
     ∇
 
      ⍎'F'
SYNTAX ERROR
G[1] 'FUNCTION G'+
     ^
 
      )SI
#.G[1]*
#.F[1]
⍎</pre><p class="pagebreakafter"> </p><pre>⎕LOCK'G'
 
      ⍎'F'
SYNTAX ERROR
F[1] G
     ^
 
      )SI
#.F[1]*
⍎
#.G[1]*
#.F[1]
⍎</pre><p>A suspended or pendent operation may be edited by the system editor or redefined using <tt>⎕FX</tt> provided that it is visible and unlocked.  However, pendent operations retain their original definition until they complete, or are cleared from the State Indicator.  When a new definition is applied, the state indicator is repaired if necessary to reflect changes to the operations, model syntax, local names, or labels.</p><script src="../../../help.js"></script></body>
</html>