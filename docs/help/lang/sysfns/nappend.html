<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>{R}←X ⎕NAPPEND Y</tt>Native File Append</h2><p>This function appends the ravel of its left argument <tt>X</tt> to the end of the designated native file.  <tt>X</tt> must be a simple homogeneous APL array.  <tt>Y</tt> is a 1- or 2-element integer vector.  <tt>Y[1]</tt> is a negative integer that specifies the tie number of a native file.  The optional second element <tt>Y[2]</tt> specifies the data type to which the array <tt>X</tt> is to be converted before it is written to the file.</p><p>The shy file index result returned is the position within the file of the end of the record, which is also the start of the following one.</p><h4>Unicode Edition</h4><p>Unless you specify the data type in <tt>Y[2</tt>], a character array will by default be written using type 80.</p><p>If the data will not fit into the specified character width (bytes) <tt>⎕NAPPEND</tt> will fail with a <tt>DOMAIN ERROR</tt>.</p><p>As a consequence of these two rules, you must specify the data type (either 160 or 320) in order to write Unicode characters whose code-point are in the range 256-65535 and &gt;65535 respectively.</p><h4><a name="Example"></a>Example</h4><pre>      n←'test'⎕NCREATE 0
 
      'abc' ⎕nappend n
 
      'ταβέρνα'⎕nappend n
DOMAIN ERROR
      'ταβέρνα'⎕NAPPEND n
     ∧
 
      'ταβέρνα'⎕NAPPEND n 160
 
      ⎕NREAD n 80 3 0
abc
      ⎕NREAD n 160 7
ταβέρνα</pre><p>For compatibility with old files, you may specify that the data be converted to type 82 on output. The conversion (to <tt>⎕AV</tt> indices) will be determined by the local value of <tt>⎕AVU</tt>.</p><script src="../../../help.js"></script></body>
</html>