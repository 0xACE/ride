<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>R←⎕TPOOL</tt>Token Pool</h2><p><tt>R</tt> is a simple scalar or vector containing the token types for each of the tokens that are currently in the token pool.</p><p>The following (<tt>⎕ML=0</tt>) function returns a 2-column snapshot of the contents of the pool. It does this by removing and replacing all of the tokens, restoring the state of the pool exactly as before. Coding it as a single expression guarantees that <tt>snap</tt> is atomic and cannot disturb running threads.</p><pre>      snap←{(⎕TGET ⍵){(⍉↑⍵ ⍺){⍺}⍺ ⎕TPUT¨⍵}⍵}
 
      snap ⎕TPOOL
1       hello world
2                 2
3                 2
2  three-type token
2                 2</pre><script src="../../../help.js"></script></body>
</html>