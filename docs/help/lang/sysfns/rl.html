<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>⎕RL</tt>Random Link </h2><p><tt>⎕RL</tt> establishes a base or <span class="Italic">seed</span> for generating random numbers using <a href="../primfns/roll.html#Roll">Roll</a> and <a href="../primfns/deal.html#Deal">Deal</a>, and returns the current state of such generation.</p><p>Three different random number generatators are provided, which are referred to here as <span class="Name">RNG0</span>, <span class="Name">RNG1</span> and <span class="Name">RNG2</span>. These are selected using  (<tt>16807⌶</tt>). See <a href="../primops/random-number-generator.html#Random_Number_Generator" class="MCXref_0">Random Number Generator</a>. <tt>⎕RL</tt> is relevant only to <span class="Name">RNG0</span> and <span class="Name">RNG1</span> for which repeatable pseudo-random series can be obtained by setting <tt>⎕RL</tt> to a particular value first.</p><p>Using <span class="Name">RNG0</span> or <span class="Name">RNG1</span>, you can <span class="Italic">set</span><tt>⎕RL</tt> to any integer in the range 0 to <tt>¯2+2*31</tt>  . The value 0 has a specail meaning (see below).</p><p> In a <tt>clear ws</tt>, <tt>⎕RL</tt> is initialised to the value defined by the    <span class="Parameter">default_rl</span> parameter which itself defaults to 16807 if it is not defined.</p><p>Using<span class="Name"> RNG0</span>, <tt>⎕RL</tt><span class="Italic">returns</span> an integer which  represents the <span class="Italic">seed</span> for the next random number in the sequence. </p><p>Using <span class="Name">RNG1</span>, the system internally retains a block of 312 64-bit numbers which are used one by one to generate the results of roll and deal. When the first block of 312 have been used up, the system generates a second block. In this case, <tt>⎕RL</tt><span class="Italic">returns</span> an integer vector of 32-bit numbers of length 625 (the first is an index into the block of 312) which represents the internal state of the random number generator. This means that, as with <span class="Name">RNG0</span>, you may save the value of  <tt>⎕RL</tt> in a variable and reassign it later.</p><p>Internally, APL maintains the current state separately for <span class="Name">RNG0</span> and <span class="Name">RNG1</span>. When you switch from one Random Number Generator to the other, the appropriate state is loaded into <tt>⎕RL</tt>.</p><p>If<tt> ⎕RL</tt> is assigned the value 0, <tt>⎕RL</tt> is initialised with a random seed generated by the operating system. This provides the means to initiate a non-repeatable series of pseudo-random numbers when using <span class="Name">RNG0</span> or <span class="Name">RNG1</span>.</p><p><tt>RNG2</tt> does not permit access to the <span class="Italic">seed</span>, so in this case <tt>⎕RL</tt> is not relevant and is not used by Roll and Deal. It will accept any value but will always return zilde.</p><h4>Examples</h4><pre>      16807⌶1 ⍝ Select RNG1
0
      ⎕RL←16807 
      10?10      
4 1 6 5 2 9 7 10 3 8
      5↑⎕RL       
10 0 16807 1819658750 ¯355441828
      X←?1000⍴1000 
      5↑⎕RL       
100 ¯465541037 ¯1790786136 ¯205462449 996695303</pre><pre>
      ⎕RL←16807
      10?10      
4 1 6 5 2 9 7 10 3 8
      Y←?1000⍴1000 
      X≡Y
1
      5↑⎕RL       
100 ¯465541037 ¯1790786136 ¯205462449 996695303               </pre><pre>      16807⌶0 ⍝ Select RNG0
1
      ⎕RL
16807
      ?9 9 9
2 7 5
      ?9
7
      ⎕RL
984943658
 
      ⎕RL←16807
      ?9 9 9
2 7 5
      ?9
7
      ⎕RL
984943658</pre><p class="pagebreakafter"> </p><pre>
      16807⌶1 ⍝ Select RNG1
0
      5↑⎕RL
100 ¯465541037 ¯1790786136 ¯205462449 996695303
</pre></body>
</html>