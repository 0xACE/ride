<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>R←X ⎕SVC Y</tt>Set Access Control </h2><p>This system function sets access control on one or more shared variables.</p><p><tt>Y</tt> is a character scalar, vector, or matrix containing names of shared variables.  Each name may optionally be paired with its surrogate.  If so, the surrogate must be separated from the name by at least one space.</p><p><tt>X</tt> may be a 4-element Boolean vector which specifies the access control to be applied to all of the shared variables named in <tt>Y</tt>.  Alternatively, <tt>X</tt> may be a 4-column Boolean matrix whose rows specify the access control for the corresponding name in <tt>Y</tt>.  <tt>X</tt> may also be a scalar or a 1-element vector.  If so, it treated as if it were a 4-element vector with the same value in each element.</p><p>Each shared variable has a current access control vector which is a 4-element Boolean vector.  A 1 in each of the four positions has the following impact :</p><table><tbody><tr><td><tt>[1]</tt></td><td>You cannot <b>set</b> a new value for the shared variable until after an intervening use or set by your partner.</td></tr><tr><td><tt>[2]</tt></td><td>Your partner cannot <b>set</b> a new value for the shared variable until after an intervening use or set by you.</td></tr><tr><td><tt>[3]</tt></td><td>You cannot <b>use</b> the value of the shared variable until after an intervening set by your partner.</td></tr><tr><td><tt>[4]</tt></td><td>Your partner cannot <b>use</b> the value of the shared variable until after an intervening set by you.</td></tr></tbody></table><p>The effect of <tt>⎕SVC</tt> is to reset the access control vectors for each of the shared variables named in <tt>Y</tt> by OR-ing the values most recently specified by your partner with the values in <tt>X</tt>.  This means that you cannot reset elements of the control vector which your partner has set to 1.</p><p>Note that the initial value of your partner's access control vector is normally 0 0 0 0.  However, if it is a non-APL client application that has established a hot DDE link, its access control vector is defined to be 1 0 0 1.  This inhibits either partner from setting the value of the shared variable twice, without an intervening use (or set) by the other.  This prevents loss of data which is deemed to be desirable from the nature of the link.  (An application that requests a hot link is assumed to require every value of the shared variable, and not to miss any).  Note that APL's way of inhibiting another application from setting the value twice (without an intervening use) is to delay the acknowledgement of the DDE message containing the second value until the variable has been used by the APL workspace.  An application that waits for an acknowledgement will therefore hang until this happens.  An application that does not wait will carry on obliviously.</p><p>The result <tt>R</tt> is a Boolean vector or matrix, corresponding to the structure of <tt>X</tt>, which contains the new access control settings.  If <tt>Y</tt> refers to a name which is not a shared variable, or if the surrogate name is mis-spelt, the corresponding value in <tt>R</tt> is <tt>4⍴0</tt>.</p><h4>Examples</h4><pre>      1 0 0 1 ⎕SVC 'X'
1 0 0 1
 
      1 ⎕SVC 'X EXTNAME'
1 1 1 1
 
      (2 4⍴1 0 0 1 0 1 1 0) ⎕SVC ↑'ONE' 'TWO'
1 1 1 1
0 1 1 0</pre></body>
</html>