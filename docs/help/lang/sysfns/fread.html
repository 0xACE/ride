<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>R←⎕FREAD Y</tt>File Read Components </h2><h4>Access code 1</h4><p><tt>Y</tt> is a  2 or 3 item  vector containing the file tie number, the component number(s), and an optional passnumber.  If the passnumber is omitted it is assumed to be zero. All elements of <tt>Y</tt> must be integers.</p><p>The second item in <tt>Y</tt> may be scalar which specifies a single component number or a vector of component numbers. If it is a scalar, the result is the value of the array that is stored in the specified component on the tied file. If it is a vector, the result is a vector of such arrays. </p><p>Note that any invocation of  <tt>⎕FREAD</tt> is an atomic operation.  Thus if <tt>compnos</tt> is a vector, the statement:</p><pre>      ⎕FREAD tie compnos passno</pre><p>will return the same result as:</p><pre>      {⎕FREAD tie ⍵ passno}¨compnos</pre><p>However, the first statement will, in the case of a share-tied file,  prevent any potential intervening file access from another user (without the need for a  <tt>⎕FHOLD</tt>). It will also perform slightly faster, especially when reading from a share-tied file.</p><h4>Examples</h4><pre>      ⍴SALES←⎕FREAD 1 241
3 2 12
 
GetFile←{⎕io←0                ⍝ Extract contents.
    tie←⍵ ⎕fstie 0            ⍝ new tie number.
    fm to←2↑⎕fsize tie        ⍝ first and next component.
    cnos←fm+⍳to-fm            ⍝ vector of component nos.
    cvec←⎕fread tie cnos      ⍝ vector of components.
    cvec{⍺}⎕funtie tie        ⍝ ... untie and return.
}</pre><script src="../../../help.js"></script></body>
</html>