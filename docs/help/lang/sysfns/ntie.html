<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>{R}←X ⎕NTIE Y</tt>Native File Tie</h2><p><tt>⎕NTIE </tt>opens a native file.  </p><p><tt>X</tt> is a simple character vector or scalar containing a valid pathname for an existing native file.  </p><p><tt>Y</tt> is a 1- or 2-element vector.  <tt>Y[1]</tt> is a negative integer value that specifies an (unused) tie number by which the file may subsequently be referred.  <tt>Y[2]</tt> is optional and specifies the mode in which the file is to be opened.  This is an integer value calculated as the sum of 2 codes.  The first code refers to the type of access needed from users who have already tied the native file.  The second code refers to the type of access you wish to grant to users who subsequently try to open the file while you have it open.</p><table><tbody><tr><th colspan="2" class="Left">Needed from existing users</th><th colspan="2" class="Left">  Granted to subsequent users</th></tr><tr><td>0</td><td>read access</td><td>0</td><td> compatibility mode</td></tr><tr><td>1</td><td>write access</td><td>16</td><td> no access (exclusive)</td></tr><tr><td>2</td><td> read and write access</td><td>32</td><td> read access</td></tr><tr><td> </td><td> </td><td>48</td><td> write access</td></tr><tr><td> </td><td> </td><td>64</td><td> read and write access</td></tr></tbody></table><p>On UNIX systems, the first code (<tt>16|mode</tt>) is passed to the <span class="Code">open(2)</span> call as the access parameter. See include file <span class="Code">fcntl.h</span> for details.</p><h4>Automatic Tie Number Allocation</h4><p>A tie number of 0 as argument to a create or tie operation, allocates, and returns as an explicit result, the first (closest to zero) available tie number. This allows you to simplify code. For example:</p><p>from:</p><pre>      tie←¯1+⌊/0,⎕NNUMS    ⍝ With next available number,
      file ⎕NTIE tie       ⍝ ... tie file.</pre><p>to:</p><pre>      tie←file ⎕NTIE 0     ⍝ Tie with first available no.</pre><h4>Example</h4><pre>ntie←{                  ⍝ tie file and return tie no.
    ⍺←2+64              ⍝ default all access.
    ⍵ ⎕ntie 0 ⍺         ⍝ return new tie no.
}</pre><script src="../../../help.js"></script></body>
</html>