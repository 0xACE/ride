<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>R←{X} ⎕AT Y</tt>Attributes</h2><p><tt>Y</tt> can be a simple character scalar, vector or matrix, or a vector of character vectors representing the names of 0 or more defined functions or operators.  Used dyadically, this function closely emulates the APL2 implementation.  Used monadically, it returns information that is more appropriate for Dyalog APL.</p><p><tt>Y</tt> specifies one or more names. If <tt>Y</tt> specifies a single name as a character scalar, a character vector, or as a scalar enclosed character vector, the result <tt>R</tt> is a vector. If <tt>Y</tt> specifies one or more names as a character matrix or as a vector of character vectors <tt>R</tt> is a matrix with one row per name in <tt>Y</tt>.</p><h4>Monadic Use</h4><p>If <tt>X</tt> is omitted, <tt>R</tt> is a 4-element vector or a 4 column matrix with the same number of rows as names in <tt>Y</tt> containing the following attribute information:</p><p><tt>R[1]</tt> or <tt>R[;1]</tt>: Each item is a 3-element integer vector representing the function header syntax:</p><table><tr><td>1</td><td>Function result</td><td>0 if the function has no result<br />1 if the function has an explicit result<br /><tt>¯1</tt> if the function has a shy result</td></tr><tr><td>2</td><td>Function valence</td><td>0 if the object is a niladic function or not a function<br />			1 if the object is a monadic function<br />				2 if the object is a dyadic function<br /><tt>¯2</tt> if the object is an ambivalent
				function</td></tr><tr><td>3</td><td>Operator valence</td><td>0 if the object is not an operator<br />	1 if the object is a monadic operator<br />		2 if the object is a dyadic operator</td></tr></table><p>The following values correspond to the syntax shown alongside:</p><pre>        0  0  0     ∇ FOO
        1  0  0     ∇ Z←FOO
       ¯1  0  0     ∇ {Z}←FOO
        0 ¯2  0     ∇ {A} FOO B
       ¯1  1  2     ∇ {Z}←(F OP G)B</pre><p><tt>R[2]</tt> or <tt>R[;2]</tt>: Each item is the (<tt>⎕TS</tt> form) timestamp of the time the function was last fixed.</p><p><tt>R[3]</tt> or <tt>R[;3]</tt>: Each item is an integer reporting the current <tt>⎕LOCK</tt> state of the function:</p><table><tbody><tr><td><tt>0</tt></td><td>Not locked</td></tr><tr><td><tt>1</tt></td><td>Cannot display function</td></tr><tr><td><tt>2</tt></td><td>Cannot suspend function</td></tr><tr><td><tt>3</tt></td><td>Cannot display or suspend</td></tr></tbody></table><p><tt>R[4]</tt> or <tt>R[;4]</tt>: Each item is a character vector - the network ID of the user who last fixed (edited) the function.</p><h4>Example</h4><pre>    ∇ {z}←{l}(fn myop)r
[1]   ...
 
    ∇ z←foo
[1]   ...
 
    ∇ z←{larg}util rarg
[1]   ...
 
      ⎕LOCK'foo'
 
      util2←util
 
      ]display ⎕AT 'myop' 'foo' 'util' 'util2'
.→--------------------------------------------.
↓ .→------. .→-----------------.     .→---.   |
| |¯1 ¯2 1| |1996 8 2 2 13 56 0|   0 |john|   |
| '~------' '~-----------------'     '----'   |
| .→----.   .→------------.          .⊖.      |
| |1 0 0|   |0 0 0 0 0 0 0|        3 | |      |
| '~----'   '~------------'          '-'      |
| .→-----.  .→------------------.    .→---.   |
| |1 ¯2 0|  |1996 3 1 14 12 10 0|  0 |pete|   |
| '~-----'  '~------------------'    '----'   |
| .→-----.  .→-------------------.   .→-----. |
| |1 ¯2 0|  |1998 8 26 16 16 42 0| 0 |graeme| |
| '~-----'  '~-------------------'   '------' |
'∊--------------------------------------------'</pre><h4>Dyadic Use</h4><p>The dyadic form of <tt>⎕AT</tt> emulates APL2.  It returns the same rank and shape result containing information that matches the APL2 implementation as closely as possible.</p><p> The number of elements or columns in <tt>R</tt> and their meaning depends upon the value of <tt>X</tt> which may be 1, 2, 3 or 4.</p><p>If <tt>X</tt> is 1, <tt>R</tt> specifies <span class="Italic">valences</span> and contains 3 elements (or columns) whose meaning is as follows:</p><table><tr><td>1</td><td>Explicit result</td><td>1 if the object has an explicit result or is a variable<br />0 otherwise</td></tr><tr><td>2</td><td>Function valence</td><td>0 if the object is a niladic function or not a function<br />1 if the object is a monadic function<br />2 if the object is an ambivalent function</td></tr><tr><td>3</td><td>Operator valence</td><td>0 if the object is not an operator<br />1 if the object is a monadic operator<br />2 if the object is a dyadic operator</td></tr></table><p>If <tt>X</tt> is 2, <tt>R</tt> specifies <span class="Italic">fix times</span> (the time the object was last updated) for functions and operators named in <tt>Y</tt>.  The time is reported as 7 integer elements (or columns) whose meaning is as follows.  The fix time reported for names in <tt>Y</tt> which are not defined functions or operators is 0.</p><table><tr><td>1</td><td>Year</td></tr><tr><td>2</td><td>Month</td></tr><tr><td>3</td><td>Day</td></tr><tr><td>4</td><td>Hour</td></tr><tr><td>5</td><td>Minute</td></tr><tr><td>6</td><td>Second</td></tr><tr><td>7</td><td>Milliseconds (this is always reported as 0)</td></tr></table><p>If <tt>X</tt> is 3, <tt>R</tt> specifies <span class="Italic">execution properties</span> and contains 4 elements (or columns) whose meaning is as follows:</p><table><tr><td>1</td><td>Displayable</td><td>0 if the object is displayable<br />1 if the object is not displayable</td></tr><tr><td>2</td><td>Suspendable</td><td>0 if execution will suspend in the object<br />1 if execution will not suspend in the object</td></tr><tr><td>3</td><td>Weak Interrupt behaviour</td><td>0 if the object responds to interrupt<br />1 if the object ignores interrupt</td></tr><tr><td>4</td><td> </td><td>(always 0)</td></tr></table><p>If <tt>X</tt> is 4, <tt>R</tt> specifies <span class="Italic">object size</span> and contains 2 elements (or columns) which both report the <tt>⎕SIZE</tt> of the object.</p><script src="../../../help.js"></script></body>
</html>