<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>{R}←{X}⎕NXLATE Y</tt>Native File Translate</h2><p>This associates a character translation vector with a native file or, if <tt>Y</tt> is 0, with the use by <tt>⎕DR</tt>.</p><p>A translate vector is a 256-element vector of integers from 0-255. Each element maps the corresponding <tt>⎕AV</tt> position onto an ANSI character code.</p><p>For example, to map <tt>⎕AV[17+⎕IO]</tt> onto ANSI 'a' (code 97), element 17 of the translate vector is set to 97.</p><p><tt>⎕NXLATE</tt> is a non-Unicode (Classic Edition) feature and is retained in the Unicode Edition only for compatibility.</p><p><tt>Y</tt> is either a negative integer tie number associated with a tied native file or 0.  If <tt>Y</tt> is negative, monadic <tt>⎕NXLATE</tt> returns the current translation vector associated with the corresponding native file. If specified, the left argument <tt>X</tt> is a 256-element vector of integers that specifies a new translate vector.  In this case, the old translate vector is returned as a shy result.  If <tt>Y</tt> is 0, it refers to the translate vector used by <tt>⎕DR</tt> to convert to and from character data.</p><p>The system treats a translate vector with value <tt>(⍳256)-⎕IO</tt> as meaning <span class="Italic">no translation</span> and thus provides raw input/output bypassing the whole translation process.</p><p>The default translation vector established at <tt>⎕NTIE</tt> or <tt>⎕NCREATE</tt> time, maps <tt>⎕AV</tt> characters to their corresponding ANSI positions and is derived from the mapping defined in the current output translation table (normally WIN.DOT)</p><p>Between them, ANSI and RAW translations should cater for most uses.</p><h4>Unicode Edition</h4><p><tt>⎕NXLATE</tt> is relevant in the Unicode Edition only to process Native Files that contain characters expressed as indices into <tt>⎕AV</tt>, such as files written by the Classic Edition.</p><p>In the Unicode Edition, when reading data from a Native File using conversion code 82, incoming bytes are translated first to <tt>⎕AV</tt> indices using the translation table specified by <tt>⎕NXLATE</tt>, and then to type 80, 160 or 320 using <tt>⎕AVU</tt>. When writing data to a Native File using conversion code 82, characters are converted using these two translation tables in reverse.</p><script src="../../../help.js"></script></body>
</html>