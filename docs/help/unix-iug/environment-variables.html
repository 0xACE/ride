<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../help.css"></head>
<body><h2 class="Heading2">Environment Variables</h2><p>Environment variables are used to configure various aspects of Dyalog APL. The complete list appears in the Dyalog APL Users Guide; this section discusses those variables which are of particular importance to the Non-GUI versions of Dyalog APL, and lists those that have meaning to the UNIX versions. Additionally there some non-GUI-specific variables which are described below and some which either do not apply, or may not work as the user might at first expect.
        </p><p>Under UNIX, all environment variables should appear in UPPER CASE. For example, to set the default value of <tt>⎕ml</tt> to 3, then
        </p><pre>$ export DEFAULT_ML=3</pre><p>If a Registry entry described in the User Guide has a back-slash "\" in its name, this should be replaced with an underscore in the equivalent environment variable.</p><p>Many of these environment variables are set in the mapl script; their values are either appropriate for the installation location of Dyalog APL, or are set to define reasonable default values.</p><p>The environment variables are broken down into several tables:</p><ul><li value="1">Table E1: The most commonly defined and used for non-GUI versions of Dyalog APL under UNIX. Most of these variables are essential for a usable APL session</li><li value="2">Table E2: Variables used to control default values in the workspace</li><li value="3">Table E3: Variables used to configure buffers and logfiles etc</li><li value="4">Table E4: Miscellaneous Variables used by non-GUI Dyalog APL</li><li value="5">Table E5: Editor-related environment variables</li><li value="6">Table E6: RIDE-related environment variables</li><li value="7">Table E7: SALT and User Command-related environment variables</li></ul><p class="TableCaptionUN">Table E1: Commonly used Variables</p><table><tr><th class="Left">Variable</th><th class="Left">Notes</th></tr><tr><td><p class="NoIndent">TERM<br />APLK<br />APLK0<br />APLT<br />APLTn</p></td><td><p class="NoIndent">Define the input and output translate tables used by Dyalog APL. The values of APLK0 and APLTn override the values of APLK and APLT if set, and they in turn override the value of (Unicode) <span class="Italic">default</span>, or (Classic) TERM if set.</p><p class="NoIndent">APLK is for input translation, APLT for output translation.</p><p class="NoIndent">These are used in conjunction with ..</p></td></tr><tr><td><p class="NoIndent">APLKEYS<br />APLTTRANS</p></td><td><p class="NoIndent">Define the search path for the input and output translate tables respectively. If unset, the interpreter will default to $DYALOG; if $DYALOG too is not set, will default to /usr/dyalog.</p></td></tr><tr><td>APLNID
                </td><td><p class="NoIndent">This variable is ignored by the UNIX versions of Dyalog APL: <tt>⎕ai</tt> and <tt>⎕an</tt> pick up their values from the user's uid and /etc/passwd.
                    </p></td></tr><tr><td>APLSTATUSFD
                </td><td><p class="NoIndent">If set, this defines the stream number on which all messages for the Status Window appear. It is then possible to redirect this output when APL is started.</p><p class="NoIndent">If unset, the output will appear in the same terminal window as the APL session, although it is not part of the session; such output can be removed by hitting SR (Screen Redraw - often defined to be Ctrl-L).
                    </p></td></tr><tr class="pagebreakbefore"><th class="Left">Variable</th><th class="Left">Notes</th></tr><tr><td>LIBPATH
                </td><td>A suitable entry for the Conga libraries needs to be added to the LIBPATH variable if Conga is to be used. For more information see the Conga Guide.
                </td></tr><tr><td>ERRORONEXTERNALEXCEPTION</td><td>By default, any error when calling <tt>⎕NA</tt> will result in APL terminating; if <tt>ERRORONEXTERNALEXCEPTION</tt> is set to 1, then APL will instead generate an event 91: <tt>EXTERNAL DLL EXCEPTION</tt>. Be aware however that the workspace may become corrupted. This is best used when developing <tt>⎕NA</tt> code rather than in production.</td></tr><tr><td>MAXWS
                </td><td>Defines the size of the workspace that will be presented to the user when Dyalog APL is started. A simple integer value will be treated as being in KB. K, M and G can be appended to the value to indicate KiB, MiB and GiB (binary) respectively. If unset, the default value is 4096KB.
                </td></tr><tr><td>WSPATH</td><td><p class="NoIndent">Defines the search path for both workspaces and Auxiliary processors. </p><p class="NoIndent">If unset, there is no default value. Workspaces and APs that are not on the WSPATH can be accessed using absolute or relative pathnames.</p></td></tr></table><p class="TableCaptionUN">Table E2: Default workspace values</p><table><tr><th class="Left">Variable
                </th><th class="Left">Notes
                </th></tr><tr><td>DEFAULT_DIV
                </td><td>Default value for <tt>⎕div</tt> in a clear workspace.
                </td></tr><tr><td>DEFAULT_IO
                </td><td>Default value for <tt>⎕io</tt> in a clear workspace.
                </td></tr><tr><td>DEFAULT_ML
                </td><td>Default value for <tt>⎕ml</tt> in a clear workspace.
                </td></tr><tr><td>DEFAULT_PP
                </td><td>Default value for <tt>⎕pp</tt> in a clear workspace.
                </td></tr><tr><td><p class="NoIndent">AUTO_PW<br />DEFAULT_PW</p></td><td><tt>⎕pw</tt> is set by the interpreter when it starts, or when the session window is resized. Under UNIX if the terminal window is resized, the session will be resized when the interpreter next checks for input.    </td></tr><tr><td>DEFAULT_RL
                </td><td>Default value for <tt>⎕rl</tt> in a clear workspace.
                </td></tr><tr><td>DEFAULT_RTL
                </td><td>Default value for <tt>⎕rtl</tt> in a clear workspace.
                </td></tr><tr><td>DEFAULT_WX
                </td><td><p class="NoIndent">Default value for <tt>⎕wx</tt> in a clear workspace.</p><p class="NoIndent">Note that although the UNIX versions of Dyalog APL do not have GUI objects, <tt>⎕se</tt> is present, and the value of <tt>⎕wx</tt> will affect the programmer's ability to run expressions such as <tt>⎕se.PropList</tt>.</p></td></tr></table><p>For numeric values, the interpreter takes the value of the environment variable, and prepends a "0" to that string. It then parses the string, accepting characters until the first non-digit character is reached.</p><p>This string, now of digits only, is converted into an integer. If the resulting value is valid, then that is the value that will be used in the workspace. If the resulting value is invalid, then the default value will be used instead.</p><p class="TableCaptionUN">Table E3: Variables used to configure buffers and logfiles etc</p><table><tr><th class="Left">Variable
                </th><th class="Left">Notes
                </th></tr><tr><td>HISTORY_SIZE
                </td><td>The size of the prior line buffer
                </td></tr><tr><td>INPUT_SIZE
                </td><td>The size of the buffer used to store lines marked for execution
                </td></tr><tr><td><p class="NoIndent">LOG_FILE<br />LOG_FILE_INUSE<br />LOG_SIZE</p></td><td>These three variables determine the name of the session log file (default ./default.dlf), whether a log file is created or not, and the size of the log file in KB. Be aware: the session log file is not interchangeable between the different editions and widths of APL; in a mixed environment it is strongly recommended to use a different log file for each version.
                </td></tr><tr><td>PFKEY_SIZE
                </td><td>The size of the buffer used to hold <tt>⎕pfkey</tt> definitions: if this is too small, an attempt to add a new definition will result in a LIMIT ERROR.
                    
                </td></tr><tr><td>SESSION_FILE
                </td><td>Defines the location of your session file; session file support was added in Dyalog 13.1. The default value is <span class="DefaultOption">$DYALOG/default.dse</span><![CDATA[ ]]></td></tr></table><p>To set values, use K to indicate KB. Note that the buffers will contain other information, so the buffer size will not be exact. Note also that multibyte Unicode characters will take up more space than single byte characters, and that 32 and 64 bit versions of Dyalog APL can require different amounts of space for holding the same information.</p><p>Example:</p><pre>$ HISTORY_SIZE=4K my_apl_startup_script</pre><p class="TableCaptionUN">Table E4: Miscellaneous Variables used by non-GUI Dyalog APL</p><table><tr><td>Variable
                </td><td>Notes
                </td></tr><tr><td>APL_TEXTINAPLCORE</td><td>If set with the value 1 the "Interesting Information" section is included in an aplcore file. Otherwise this section is omitted. By default the interpreter has this set to 0; it is the default APL script which sets it to 1.</td></tr><tr><td><p class="NoIndent">AUTOFORMAT<br />TABSTOPS</p></td><td>If AUTOFORMAT is 1, then control structures will be shown with indents, set at TABSTOPS spaces; the changes are reflected in the editor window when the RD (ReDraw) command key is hit.
                </td></tr><tr><td>AUTOINDENT
                </td><td></td></tr><tr><td>AUTO_PW
                </td><td>Introduced in 13.0. With <tt>AUTO_PW=0, ⎕pw</tt> remains fixed at the size of the terminal window when APL was started. When set to 1, or unset, <tt>⎕pw</tt> alters each time the terminal window is resized.
             
                </td></tr><tr><td>DYALOG
                </td><td><p class="NoIndent">This variable is defined in the supplied mapl startup script, and is used to form the default values for APLKEYS, APLTRANS, WSPATH etc.</p><p class="NoIndent">If it is necessary to identify the location of the Dyalog executable, then a more reliable method is to determine the full path name from the appropriate file in the /proc/&lt;process_id_of_APL_session&gt;/ subdirectory or from the output of ps.</p></td></tr></table><p>These are the remaining variables listed in the User Guide which are effective in the non-GUI UNIX versions of Dyalog APL</p><p class="TableCaptionUN">Table E5: Editor-related environment variables</p><table><tr><td>Variable
                </td><td>Notes
                </td></tr><tr><td>EDITOR_COLUMNS_*
                </td><td><p class="NoIndent">More details below. Can be one of</p><p class="NoIndent">EDITOR_COLUMNS_CHARACTER_ARRAY<br />EDITOR_COLUMNS_CLASS<br />EDITOR_COLUMNS_FUNCTION<br />EDITOR_COLUMNS_NAMESPACE<br />EDITOR_COLUMNS_NUMERIC_ARRAY</p></td></tr><tr><td>LINES_ON_FUNCTIONS
                </td><td>Whether line numbers are on or off. This is used in conjunction with the variables which determine which features of the editor are enabled.
                </td></tr></table><p>Table E6:RIDE environment variables</p><table><tr><td>Variable
                </td><td>Notes
                </td></tr><tr><td>APL_LANGUAGE_BAR_FILE </td><td>This specifies the location of the XML file which contains the definitions of the language bar which appears in the RIDE client</td></tr><tr><td>RIDE_LISTEN</td><td>This specifies the range of IPv4 addresses from which a RIDE client may connect, and the port number to be used. The default value is 0.0.0.0:4502. If the variable is unset, RIDE is not enabled in the interpreter.</td></tr></table><p>Dyalog Ltd. intends to release the RIDE (Remote IDE) client sometime after the release of Dyalog APL 14.0; the interpreter may need to be updated at the point when RIDE is released for full RIDE support.</p><p>Table E7: SALT and user commands related environment variables</p><table><tr><td>Variable
                </td><td>Notes
                </td></tr><tr><td>SESSION_FILE</td><td>Specifies the location of the file containing <span class="DyalogPlain">⎕SE</span>. The default value is <span class="DefaultOption">$DYALOG/default.dse</span></td></tr><tr><td>UCMDCACHEFILE</td><td>Specifies the location of the user command cache file. Defaults to <span class="DefaultOption">~/.dyalog/UserCommand20.cache</span></td></tr></table><p>Further information about SALT and user commands appear in the <span class="Name">Dyalog APL User Commands Reference Guide</span> and the <span class="Name">Dyalog APL SALT Reference Guide</span>.</p></body>
</html>