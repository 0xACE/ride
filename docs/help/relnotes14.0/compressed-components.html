<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../help.css"></head>
<body><h2>Compressed Components</h2><p>In Version 14.0, you may now create compressed components. Components are compressed using the <span class="Name">LZ4</span> compressor which delivers a medium level of compression, but is considered to be very fast compared to other algorithms.</p><p>Compression is intended to deliver a performance gain reading and writing large components on fast computers with slow (e.g. network) file access. Conversely, on a slow computer with fast file access compression may actually reduce read/write performance. For this reason it is optional at the component level.</p><p>This feature is implemented by a new  file property <tt>'Z'</tt> which may be set using <tt>⎕FPROPS</tt>, or by a function derived from <tt>⎕FCREATE</tt> with the Variant operator <tt>⍠</tt>.</p><p> The default for the <tt>'Z'</tt> property is 0 which means no compression; 1 means compression. When written, components are compressed or not according to the current value of the <tt>'Z'</tt> property. Changing this property does not change any components already in the file.</p><p>A component file may therefore contain a mixture of normal and compressed components. Note that only the data in file components are compressed, the file access matrix and other header information is not compressed.</p><p>When read, compressed components are decompressed regardless of the value of the <tt>'Z'</tt> property.</p><p>Compression is not supported for files in which both Journalling and Checksum are disabled.</p><p>Attempting to read compressed components using earlier versions of Dyalog APL will generate an error:</p><ul><li value="1">All 13.2 and 13.1.14842 and later:<br /><tt>DOMAIN ERROR: Array is from a later version of APL</tt></li><li value="2">13.1 before revision 14842:<br /><tt>FILE COMPONENT DAMAGED: Incoming array is invalid</tt></li><li value="3">13.0 and 12.1 after revision 11154:<br /><tt>DOMAIN ERROR</tt></li><li value="4">13.0 and 12.1 before revision 11154:<br /><tt>FILE COMPONENT DAMAGED</tt></li></ul></body>
</html>