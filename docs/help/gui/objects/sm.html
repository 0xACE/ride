<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>Object</tt>SM</h2><table class="GUIMembers"><tr><td class="SpacedPlain"><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Parents</a></span></td><td class="SpacedPlain"><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Children</a></span></td><td class="SpacedPlain"><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Properties</a></span></td><td class="SpacedPlain"><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Methods</a></span></td><td class="SpacedPlain"><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Events</a></span></td></tr></table><table class="GUIMembers"><tr><td class="SpacedPlainTitle">Purpose:</td><td class="SpacedPlain">Defines a window for <tt>⎕SM</tt>/<tt>⎕SR</tt>.</td></tr></table><p class="Bold">Description</p><p>This object defines a window for <tt>⎕SM</tt>/<tt>⎕SR</tt> and allows you to combine the functionality of <tt>⎕SM</tt>/<tt>⎕SR</tt> with the "windows" GUI. For example, you can define a <a href="form.html">Form</a> with a <a href="menubar.html">MenuBar</a> at the top and a <tt>⎕SM</tt> window beneath it, with perhaps some <a href="button.html">Button</a>s alongside.</p><p>To allow the user to interact with both <tt>⎕SM</tt> and other top-level objects, you must specify the names of these objects in the right argument of <tt>⎕SR</tt>. Thus the statement :</p><pre>      CTX ← KEYS CTX ⎕SR 1 2 3 'Form1'</pre><p>allows the user to interact with fields (rows) 1-3 of <tt>⎕SM</tt><b>and</b> with the object <tt>'Form1'</tt> and its children. Callback functions associated with events in <tt>'Form1'</tt> will be executed automatically by <tt>⎕SR</tt>. If an enabled event without a callback occurs, the event will be placed on <a href="../../lang/sysfns/dq.html"><tt>⎕DQ</tt></a>'s internal queue and <tt>⎕SR</tt> will terminate. The nature of the termination (i.e. that it was caused by an event in an object) is reported by the value 131072 (2*17) in the fourth element of <tt>⎕SR</tt>'s result. The specific event (<a href="../methodorevents/configure.html">Configure</a>, <a href="../methodorevents/mouseup.html">MouseUp</a>, etc.) is however not reported. It is therefore generally preferable to use callbacks.</p><p>The <a href="../props/posn.html">Posn</a>, <a href="../props/size.html">Size</a> and <a href="../props/coord.html">Coord</a> properties allow you to specify the position and size of the window occupied by <tt>⎕SM</tt> within its parent <a href="form.html">Form</a>. Note however that the <tt>⎕SM</tt> window will automatically be sized to be an exact number of characters in height and width which will be reported in <tt>⎕SD</tt>.</p><p>The <a href="../props/border.html">Border</a> property may be used to specify a border around the outside of the <tt>⎕SM</tt> window. It is a number with the value 0 (no border) or 1 (1 pixel border). The default is 0. The <a href="../props/edgestyle.html">EdgeStyle</a> property may be used to give the object a 3-dimensional appearance. Its default value is <tt>'Recess'</tt>. The area within the SM object that is defined by <tt>⎕SM</tt> is necessarily a multiple of the character size. The region between this area and the outer edges of the object is coloured by the background colour specified by <a href="../props/bcol.html">BCol</a>, or may be filled with a bitmap specified by <a href="../props/picture.html">Picture</a>.</p><p>If the user resizes the <a href="form.html">Form</a> which contains the SM object, the SM object will generate a <a href="../methodorevents/configure.html">Configure</a> event if enabled. If the <a href="../methodorevents/configure.html">Configure</a> event is not enabled, <tt>⎕SR</tt> will terminate with a <tt>RESIZE</tt> error which can be trapped using <tt>⎕TRAP</tt>. Either method can be used to reformat <tt>⎕SM</tt> as appropriate.</p><p>The <a href="../methodorevents/mousedown.html">MouseDown</a> event can be used to bring up a pop-up menu. Note however that mouse events are not reported over <tt>⎕SM</tt> fields because <tt>⎕SR</tt> uses these to position the cursor.</p><p>The illustration shown below was produced as follows :</p><pre>      'TEST'      ⎕WC 'Form' 'SM Object' (60 10)(40 50)
      'TEST.MB'   ⎕WC 'MenuBar'
      'TEST.MB.F' ⎕WC 'Menu' '&amp;File'
      'TEST.MB.O' ⎕WC 'Menu' '&amp;Options'
      'TEST.B1'   ⎕WC 'Button' '&amp;OK' (84 2)
      'TEST.B2'   ⎕WC 'Button' '&amp;Cancel' (84 78)
      'TEST.S'    ⎕WC 'SM'(2 2)(80 96)('BCol'192 192 192)
      ⎕SM←↑('The answer is' 5 10)(42 5 30)</pre><p><img src="../images/sm-example.png" /></p></body>
</html>