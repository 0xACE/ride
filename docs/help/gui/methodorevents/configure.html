<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>Event 31</tt>Configure</h2><p class="Bold"><span class="MCPopup"><a href="javascript:void(0);" onclick="FMCPopup( event, this ); return false;" class="MCPopupSpot">Applies To</a></span></p><p class="Bold">Description</p><p>If enabled, this event is generated when the configuration of an object
(position and/or size) is about to change.</p><p>For a <a href="../objects/form.html">Form</a>, the event is generated when the <a href="../objects/form.html">Form</a> is resized or moved by the user.</p><p>For any object other than a <a href="../objects/form.html">Form</a>, it can
occur in one of two ways. Firstly, whenever a <a href="../objects/form.html">Form</a> is resized, the system (by default) re-arranges its children so as to maintain
their relative position and size. This generates a Configure event (if enabled)
for each one of them.</p><p>Secondly, it can occur as a result of the user resizing the object directly.
This facility is enabled by setting the object's <a href="../props/sizeable.html">Sizeable</a> property to 1.</p><p>Note that a Configure event is <b>not</b> reported when an object is moved
using "drag &amp; drop". See <a href="../props/dragable.html">Dragable</a> (property) and <a href="dragdrop.html">DragDrop</a> (event) for details
of this operation.</p><p>The event message reported as the result of <a href="../../lang/sysfns/dq.html"><tt>⎕DQ</tt></a>,
or supplied as the right argument to your callback function, is a 6-element
vector as follows :</p><table class="Event"><tr><td><tt>[1]</tt></td><td>Object</td><td>ref or character vector</td></tr><tr><td><tt>[2]</tt></td><td>Event</td><td><tt>'Configure'</tt> or 31</td></tr><tr><td><tt>[3]</tt></td><td>Y</td><td>y-position of top left corner</td></tr><tr><td><tt>[4]</tt></td><td>X</td><td>x-position of top left corner</td></tr><tr><td><tt>[5]</tt></td><td>H</td><td>height of object</td></tr><tr><td><tt>[6]</tt></td><td>W</td><td>width of object</td></tr></table><p>For any object, the operation can be prevented by returning a scalar 0 from
the callback function associated with the Configure event.</p><h4>Full-Drag Considerations</h4><p>The user may choose a system option, described here as <span class="Italic">full-drag</span>,
whereby the contents of the window are re-arranged during a resize operation.</p><p>If you manage the geometry of your controls using the Attach property, APL
honours <span class="Italic">full drag</span> during resize, changing the size and position of your
controls dynamically for you.</p><p>However, if you manage the geometry of controls using Configure event
callbacks, you should consider the following.</p><ol><li value="1">If full drag is in enabled, APL generates Configure events <span class="Italic">during</span>the resize operation, allowing you to dynamically alter the geometry of
    controls as you wish. However, the following restrictions apply:<br /><br /></li><li value="2">Configure callbacks will only be executed when the interpreter is <span class="Italic">idle</span>.
    For example during a <tt>⎕DQ</tt> or
    during Session input (6-space prompt). If the user attempts to move/resize a
    window that has Configure callbacks attached when the interpreter is busy,
    the move/resize is not started. This is similar to the operation in non <span class="Italic">full
    drag</span> mode, where the move/resize is allowed but the callback does not
    execute until the interpreter again becomes idle.<br /><br /></li><li value="3">The callback cannot be traced. It is necessary to debug the callback code
    with <span class="Italic">full drag</span> disabled.<br /><br /></li><li value="4">Any untrapped errors in the Configure callback will not halt execution in
    the normal way, but will instead be reported in the <span class="Italic">Status Window</span>.
    Note that it is also not possible to trap such errors higher up the SI stack
    than the Configure Callback.<br /><br /></li><li value="5">There are some programming styles to be avoided if <span class="Italic">full drag</span>Configure callbacks are to be processed correctly. For example events
    generated by monadic <tt>⎕NQ</tt> within
    a Configure callback will not be processed until the entire resize operation
    has been completed.<br /><br /></li><li value="6">It is not possible to save a workspace from within a Configure Callback in
    <span class="Italic">full drag</span> mode.</li></ol><p>The above restrictions apply to Configure events when <span class="Italic">full drag</span> is
enabled, but <span class="Italic">only</span> when <span class="Italic">full drag</span> is enabled. The behaviour of
Configure callbacks with <span class="Italic">full drag</span> disabled is the same as for other
events.</p></body>
</html>