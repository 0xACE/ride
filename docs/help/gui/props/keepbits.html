<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><tt>Property</tt>KeepBits</h2><table class="GUIMembers"><tr><td class="SpacedPlainTitle">Applies To:</td><td class="SpacedPlain"><a href="../objects/bitmap.html">Bitmap</a></td><td class="SpacedPlain"><a href="../objects/cursor.html">Cursor</a></td><td class="SpacedPlain"><a href="../objects/icon.html">Icon</a></td></tr></table><p class="Bold">Description</p><p>This property is be used to control the way that <a href="../objects/bitmap.html">Bitmap</a>, <a href="../objects/cursor.html">Cursor</a> and <a href="../objects/icon.html">Icon</a> objects are stored in the workspace.</p><p>When you create a <a href="../objects/bitmap.html">Bitmap</a>, <a href="../objects/icon.html">Icon</a> or <a href="../objects/cursor.html">Cursor</a> using <tt>⎕WC</tt>, APL asks Windows to allocate a corresponding bitmap, icon or cursor <span class="Italic">resource</span>. This resource is allocated in Windows memory. If APL were to hold the values of the <span class="Italic">image properties</span> (<a href="cbits.html">CBits</a>, <a href="bits.html">Bits</a> and <a href="cmap.html">CMap</a> for a <a href="../objects/bitmap.html">Bitmap</a>; <a href="bits.html">Bits</a>, <a href="cmap.html">CMap</a> and <a href="mask.html">Mask</a> for <a href="../objects/cursor.html">Cursor</a> and <a href="../objects/icon.html">Icon</a> objects) internally in the workspace, this data would be duplicated. For large bitmaps this would have a serious impact on memory utilisation and may affect performance. The KeepBits property is provided to allow you to control whether or not APL retains the values of the <span class="Italic">image properties</span> in the workspace, so that you can choose a strategy to suit your configuration and requirements. KeepBits may take the value 0 or 1.</p><p>If KeepBits is 0 the values of the <span class="Italic">image properties</span> are <b>not</b> stored internally in your workspace. If you save a workspace containing a <a href="../objects/bitmap.html">Bitmap</a>, <a href="../objects/cursor.html">Cursor</a> or <a href="../objects/icon.html">Icon</a> object, the corresponding Windows resource is automatically re-allocated when the workspace is loaded by referring to the associated file. This is the file whose full pathname is defined by the value of the object's <a href="file.html">File</a> property. It follows that if you adopt this strategy, you must ensure that the <a href="file.html">File</a> property is set correctly. If APL cannot find the file when the workspace is <tt>)LOAD</tt>ed, it cannot re-create the object, and you will get a <tt>VALUE ERROR</tt> when you subsequently refer to it. A further consideration is the effect on <tt>⎕WG</tt>. If KeepBits is 0, and you execute <tt>⎕WG 'CBits'</tt> or <tt>'Bits'</tt> or <tt>'CMap'</tt> or <tt>'Mask'</tt>, APL obtains these values by requesting the data from Windows.</p><p>If KeepBits is set to 1, the contents of the <span class="Italic">image properties</span> are stored in the workspace, thus duplicating the information which is held by Windows itself. If you save a workspace containing a <a href="../objects/bitmap.html">Bitmap</a>, <a href="../objects/cursor.html">Cursor</a> or <a href="../objects/icon.html">Icon</a> the corresponding Windows resource is automatically re-allocated from the <span class="Italic">image properties</span> when the workspace is loaded. The value of the <a href="file.html">File</a> property is ignored. When you execute <tt>⎕WG 'CBits'</tt> or <tt>'Bits'</tt> or <tt>'CMap'</tt> or <tt>'Mask'</tt>, APL generates the result directly from the stored values held (internally) in the workspace.</p></body>
</html>