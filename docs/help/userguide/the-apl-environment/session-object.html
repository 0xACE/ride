<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><a name="Session Object"></a>The Session Object</h2><table class="GUIMembers"><tr><td class="SpacedPlainTitle">Purpose:</td><td class="SpacedPlain">The Session object <tt>⎕SE</tt> is a special system object that represents the session window and acts as a parent for the session menus, tool bar(s) and status bar.</td></tr><tr><td class="SpacedPlainTitle">Children</td><td class="SpacedPlain">Form, MenuBar, Menu, MsgBox, Font, FileBox, Printer, Bitmap, Icon, Cursor, Clipboard, Locator, Timer, Metafile, ToolBar, StatusBar, TipField, TabBar, ImageList, PropertySheet, OLEClient, TCPSocket, CoolBar, ToolControl, BrowseBox</td></tr><tr><td class="SpacedPlainTitle">Properties</td><td class="SpacedPlain">Type, Caption, Posn, Size, File, Coord, State, Event, FontObj, YRange, XRange, Data, TextSize, Handle, HintObj, TipObj, CurObj, CurPos, CurSpace, Log, Input, Popup, RadiusMode, MethodList, ChildList, EventList, PropList</td></tr><tr><td class="SpacedPlainTitle">Methods</td><td class="SpacedPlain">ChooseFont, FileRead, FileWrite</td></tr><tr><td class="SpacedPlainTitle">Events</td><td class="SpacedPlain">Close, Create, FontOK, FontCancel, WorkspaceLoaded, SessionPrint</td></tr></table><p class="Bold">Description</p><p>There is one (and only one) object of type Session and it is called <tt>⎕SE</tt>. You may use <tt>⎕WG</tt>, <tt>⎕WS</tt> and <tt>⎕WN</tt> to perform operations on <tt>⎕SE</tt>, but you cannot expunge it with <tt>⎕EX</tt> nor can you recreate it using <tt>⎕WC</tt>. You may however expunge all its children. This will result in a bare session with no menu bar, tool bar or status bar. </p><p><tt>⎕SE</tt> is loaded from a session file when APL starts. The name of the session file is specified by the <span class="Parameter">session_file</span> parameter. If no session file is defined, <tt>⎕SE</tt> will have no children and the session will be devoid of menu bar, tool bar and status bar components.</p><p>You may use all of the standard GUI system functions to build or configure the components of the Session to your own requirements. You may also control the Session by changing certain of its properties.</p><p>Note that the Session reports a Create event when APL is first started, and a <a href="workspaceloaded.html">WorkspaceLoaded</a> event when a workspace is loaded or on a clear ws.</p><p>The Session also reports a <a href="sessionprint.html">SessionPrint</a> event when certain types of output are about to be displayed. This may be used to alter the normal default display.</p><h4>Read-Only Properties</h4><p>The following properties of <tt>⎕SE</tt> are read-only and may not be set using <tt>⎕WS</tt>:</p><table><tr><td class="RowTitle">Type</td><td>A character vector containing <tt>'Session'</tt></td></tr><tr><td class="RowTitle">Caption</td><td>A character vector containing the current caption in the title bar of the Session window.</td></tr><tr><td class="RowTitle">TextSize</td><td>Reports the bounding rectangle for a text string. For a full description, see TextSize in Object Reference.</td></tr><tr><td class="RowTitle">CurObj</td><td>A character vector containing the name of the current object. This is the name under or immediately to the left of the input cursor.</td></tr><tr><td class="RowTitle">CurPos</td><td>A 2-element integer vector containing the position of the input cursor (row and column number) in the session log. This is <tt>⎕IO</tt> dependent. If <tt>⎕IO</tt> is 1, and the cursor is positioned on the character at the beginning of the first (top) line in the log, CurPos is (1 1). If <tt>⎕IO</tt> is 0, its value would be (0 0). </td></tr><tr><td class="RowTitle">CurSpace</td><td>A character vector which identifies the namespace from which the current expression was executed. If the system is not executing code, CurSpace is the current space and is equivalent to the result of <tt>⊃''⎕NS''</tt>.</td></tr><tr><td class="RowTitle">Handle</td><td>The window handle of the Session window.</td></tr><tr><td class="RowTitle">Log</td><td>A vector of character vectors containing the most recent set of lines (input statements and results) that are recorded in the session log. The first element contains the top line in the log.</td></tr><tr><td class="RowTitle">Input</td><td>A vector of character vectors containing the most recent set of input statements (lines that you have executed) contained in the input history buffer.</td></tr><tr><td class="RowTitle"> ChildList</td><td>A vector of character vectors containing the types of object that can be created as a child of <tt>⎕SE</tt>.</td></tr><tr><td class="RowTitle">MethodList</td><td>A vector of character vectors containing the names of the methods associated with <tt>⎕SE</tt>.</td></tr><tr><td class="RowTitle">EventList</td><td>A vector of character vectors containing the names of the events generated by <tt>⎕SE</tt></td></tr><tr><td class="RowTitle">PropList</td><td>A vector of character vectors containing the names of the properties associated with <tt>⎕SE</tt>.</td></tr></table><h4>Read/Write Properties</h4><p>The following properties of <tt>⎕SE</tt> may be changed using <tt>⎕WS</tt>:</p><table><tr><td class="RowTitle">Coord</td><td>Specifies the co-ordinate system for the session window. </td></tr><tr><td class="RowTitle">Data</td><td>May be used to associate arbitrary data with the session object <tt>⎕SE</tt>.</td></tr><tr><td class="RowTitle">Event</td><td>You may use this property to attach an expression or callback function to the Create event or to user-defined events. A callback attached to the Create event can be used to initialise the Session when APL starts.</td></tr><tr><td class="RowTitle">File</td><td>The full pathname of the session file that is associated with the current session. This is the file name used when you save or load the session by invoking the FileRead or FileWrite method.</td></tr><tr><td class="RowTitle">FontObj</td><td>Specifies the APL font. In general, the FontObj property may specify a font in terms of its face name, size, and so forth or it may specify the name of a Font object. For applications, the latter method is recommended as it will result in better management of font resources. However, in the case of the Session object, it is recommended that the former method be used.</td></tr><tr><td class="RowTitle">HintObj</td><td>Specifies the name of the object in which hints are displayed. Unless you specify HintObj individually for session components, this object will be used to display the hints associated with all of the menu items, buttons, and so forth in the session. The object named by this property is also used to display the message “Ready...” when APL is waiting for input.</td></tr><tr><td class="RowTitle">Popup</td><td>A character vector that specifies the name of a popup menu to be displayed when you click the right mouse button in a Session window.</td></tr><tr><td class="RowTitle">Posn</td><td>A 2-element numeric vector containing the position of the top-left corner of the session window relative to the top-left corner of the screen. This is reported and set in units specified by the Coord property.</td></tr><tr><td class="RowTitle">Size</td><td>A 2-element numeric vector containing the height and width of the session window expressed in units specified by the Coord property.</td></tr><tr class="pagebreakbefore"><td class="RowTitle">State</td><td>An integer that specifies the window state (0=normal, 1=minimised, 2=maximised). You may wish to use this property to minimise and later restore the session under program control. If you save your session with State set to 2, your APL session will start off maximised.</td></tr><tr><td class="RowTitle">TipObj</td><td>Specifies the name of the object in which tips are displayed. Unless you specify TipObj individually for session components, this object will be used to display the tips associated with all of the menu items, buttons, and so forth in the session.</td></tr><tr><td class="RowTitle">XRange</td><td>See <span class="Name">Object Reference</span></td></tr><tr><td class="RowTitle">YRange</td><td>See <span class="Name">Object Reference</span></td></tr></table><h4>Special Events</h4><p>In addition to the events and methods which are provided by <tt>⎕SE</tt> in common with other GUI objects, the following events are unique to <tt>⎕SE</tt>. </p><table><tr><td class="RowTitle"><a href="sessionprint.html">SessionPrint</a></td><td>This event is reported when a value is about to be displayed in the Session window. The default display of the value may be intercepted by a callback function and displayed differently. This event is used by the <tt>]box</tt> and <tt>]rows</tt> user commands.</td></tr><tr><td class="RowTitle"><a href="workspaceloaded.html">WorkspaceLoaded</a></td><td>This event is generated when a workspace is loaded or upon <tt>)CLEAR</tt>. </td></tr></table></body>
</html>