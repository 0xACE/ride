<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><a name="Expressions"></a>Entering and Executing Expressions</h2><h4><a name="Introduction"></a>Introduction</h4><p>The session contains the <span class="Italic">input line</span> and the <span class="Italic">session log</span>. The input line is the last line in the session, and is (normally) the line into which you type an expression to be evaluated.</p><p>The session log is a history of previously entered expressions and the results they produced. </p><p>If you are using a log file, the Session log is loaded into memory when APL is started from the file specified by the <span class="Parameter">log_file</span> parameter. When you close your APL session, the Session log is written back out to the log file, replacing its previous contents. </p><p>In general you type an expression into the input line, then press Enter (ER) to run it. After execution, the expression and any displayed results become part of the session log.</p><p>You can move around in the session using the scrollbar, the cursor keys, and the PgUp and PgDn keys. In addition, Ctrl+Home (UL) moves the cursor to the beginning of the top-line in the Log and Ctrl+End (DL) moves the cursor to the end of the last (i.e. the <span class="Italic">current</span>) line in the session log. Home (LL) and End (RL) move the cursor to the beginning and end respectively of the line containing the cursor.</p><h4><a name="Language_Bar"></a>Language Bar</h4><p>The Language Bar is an optional window which is initially docked to the Session Window, to make it easy to pick APL symbols without using the keyboard.</p><p>If you hover the mouse pointer over a symbol in the APL Language Bar, a pop-up tip is displayed to remind you of its usage. If you click on a symbol in the Language Bar, that symbol is inserted at the cursor in the current line in the Session.</p><p><img src="../images/lang-bar.png" /></p><h4>Auto Complete </h4><p>As you start to enter characters in an APL expression, the <span class="Name">Auto Complete</span> suggestions pop-up window (AC for short) offers you a choice based upon the characters you have already entered and the current context.</p><p>For example, if you enter a <tt>⎕</tt>, AC displays a list of all the system functions and variables. If you then enter the character <tt>r</tt>, the list shrinks to those system functions and variables beginning with the letter r, namely <tt>⎕refs</tt>, <tt>⎕rl</tt>, and <tt>⎕rtl</tt>. Instead of entering the remaining characters, you may select the appropriate choice in the AC list. This is done by pressing the right cursor key or (in PocketAPL) by tapping the choice in the list.</p><p>If you begin to enter a name, AC will display a list of namespaces, variables, functions, operators that are defined in the current namespace. If you are editing a function, AC will also include names that are localised in the function header.</p><p>If the current space is a GUI namespace, the list will also include Properties, Events and Methods exposed by that object.</p><p>As an additional refinement, AC remembers a certain number of previous auto complete operations, and uses this information to highlight the most recent choice you made.</p><p>For example, suppose that you enter the two characters <tt>)c</tt>. AC offers you <tt>)clear</tt> thru' <tt>)cs</tt>, and you choose <tt>)cs</tt> from the list. The next time you enter the two characters <tt>)c</tt>, AC displays the same list of choices, but this time <tt>)cs</tt> is pre-selected.</p><p>You can disable or customise Auto Completion from the <span class="Name">Auto Complete</span> page in the Configuration dialog box which is described later in this chapter.</p><h4>Executing an Expression</h4><p>To execute an expression, you type it into the input line, then press Enter (ER). Alternatively, you can select <span class="Name">Execute</span> from the <span class="Name">Action</span> menu. Following execution, the expression and any displayed results become part of the session log.</p><p>Instead of entering a new expression in the input line, you can move back through the session log and re-execute a previous expression (or line of a result) by simply pointing at it with the cursor and pressing Enter. Alternatively, you can <span class="Italic">select Execute</span> from the <span class="Italic">Action</span> menu. You may alter the line before executing it. If you do so, it will be displayed using colour 249 (Red on White), the same as that used for the input line. When you press Enter the new line is copied to the input line prior to being executed. The original line is restored and redisplayed in the normal session log colour 250 (Black on White).</p><p>An alternative way to retrieve a previously entered expression is to use Ctrl+Shift+Bksp (BK) and Ctrl+Shift+Enter (FD). These commands cycle backwards and forwards through the <span class="Italic">input history</span>, successively copying previously entered expressions over the current line. When you reach the expression you want, simply press Enter to re-run it. These operations may also be performed from the <span class="Name">Edit</span> menu in the session window.</p><h4>Executing Several Expressions</h4><p>You can execute several expressions, by changing more than one line in the session log before pressing Enter. Each line that you change will be displayed using colour 249 (Red on White). When you press Enter, these <span class="Italic">marked</span> lines are copied down and executed in the order they appear in the log.</p><p>Note that you don't actually have to <span class="Italic">change</span> a line to mark it for re-execution; you can mark it by overtyping a character with the same character, or by deleting a leading space for instance.</p><p>It is also possible to execute a contiguous block of lines. To do this, you must first select the lines (by dragging the mouse or using the keyboard) and then copy them into the clipboard using Shift+Delete (CT) or Ctrl+Insert (CP). You then paste them back into the session using Shift+Insert (PT). Lines pasted into the session are always marked (Red on White) and will therefore be executed when you press Enter. To execute lines from an edit window, you use a similar procedure. First select the lines you want to execute, then cut or copy the selection to the clipboard. Then move to the session window and paste them in, then press Enter to execute them.</p><h4>Session Print Width (PW)</h4><p>Throughout its history, APL has used a system variable <tt>⎕PW</tt> to specify the width of the user's terminal or screen. Session output that is longer than <tt>⎕PW</tt> is automatically wrapped and split into multiple lines on the display. This feature of APL was designed in the days of hard-copy terminals and has become less relevant in modern Windows environments.</p><p>Dyalog APL continues to support the traditional use of <tt>⎕PW</tt>, but also provides an alternative option to have the system wrap Session output according to the width of the Session Window. This behaviour may be selected by checking the Auto PW checkbox in the Session tab of the Configuration dialog box.</p><h4>Using Find/Replace in the Session</h4><p>The search and replace facilities work not just in the Editor as you would expect, but also in the Session. For example, if you have just entered a series of expressions involving a variable called <tt>SALES</tt> and you want to perform the same calculations using<tt> NEWSALES</tt>, the following commands will achieve it:</p><p>Enter <tt>SALES</tt> in the <span class="Name">Find</span> box, and<tt> NEWSALES</tt> in the <span class="Name">Replace</span> box. Now click the <span class="Name">Replace All</span> button. You will see all occurrences of <tt>SALES</tt> change to <tt>NEWSALES</tt>. Furthermore, each changed line in the session becomes marked (Red on White). Now click on the session and press Enter (or select <span class="Name">Execute</span> from the <span class="Name">Action</span> menu).</p><p>Once displayed, the <span class="Name">Find</span> or <span class="Name">Find/Replace</span> dialog box remains on the screen until it is either closed or replaced by the other. This is particularly convenient if the same operations are to be performed over and over again, and/or in several windows. <span class="Name">Find</span> and <span class="Name">Find/Replace</span> operations are effective in the window that previously had the focus.</p></body>
</html>