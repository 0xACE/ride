<!doctype html>
<html>
<head><meta charset="utf-8"><title></title><link rel="stylesheet" href="../../../help.css"></head>
<body><h2><a name="Editor"></a>The Editor</h2><h4><a name="Invoking"></a>Invoking the Editor</h4><p>The editor may be invoked in several ways. From the session, you can use the system command <tt>)ED</tt> or the system function <tt>⎕ED</tt>, specifying the names(s) of the object(s) to be edited. You can also type the name of the object and then press Shift+Enter (ED), click the <span class="Name">Edit</span> tool on the tool bar, or select <span class="Name">Edit</span> from the <span class="Name">Action</span> menu. If you invoke the editor when the cursor is positioned on the empty input line, with a suspended function in the State Indicator, the editor is invoked on the suspended function and the cursor is positioned on the line at which it is suspended. This is termed<span class="Italic"> naked edit</span>. These ways of invoking the editor apply only in the session window</p><p><img src="../images/editor-1.png" /></p><p>In addition, there is a general<span class="Italic"> point-and-edit</span> facility which works in edit and trace windows too. Simply position the input cursor over a name and double-click the left mouse button. Alternatively, you can press Shift+Enter or select <span class="Name">Edit</span> from the <span class="Name">File</span> menu. The name can appear in the Session, in an Edit window, or in a Trace window; the effect is the same. Note that, in the Session, typing a name and pressing Shift+Enter is actually a special case of <span class="Italic">point-and-edit</span>. Note also that a <span class="Italic">naked edit</span> can be invoked by double-clicking the left mouse button in the empty input line.</p><p>The type of a new object defaults to function/operator unless the object is shadowed, in which case it defaults to a variable (vector of character vectors). You can however specify the type of a new object explicitly using <tt>)ED</tt> or <tt>⎕ED</tt> . For example, typing "<tt>)ED ∊LIST -MAT</tt>" in a <tt>CLEAR WS</tt> would create Edit windows for a vector of character vectors named <tt>LIST</tt> and a character matrix called <tt>MAT</tt>. See <tt>)ED</tt> or <tt>⎕ED</tt> for details.</p><p>If the name is not already being edited, it is assigned a new edit window. If you edit a name which is already being edited, the system <span class="Italic">focuses</span> on the existing edit window rather than opening a new one. Edit windows are displayed using the colour combination associated with the type of the object being edited.</p><h4><a name="Window_Management_Standard"></a>Window Management (Standard)</h4><p>Unless <span class="Name">Classic Dyalog mode</span> is selected (<span class="Name">Options/Configure/Trace/Edit</span>), the Editor is a Multiple Document Interface (MDI) window that may be a stand-alone window, or be docked in the Session window. Each of the objects being edited is displayed in a separate sub-window. Individual edit windows are managed using standard MDI facilities.</p><p><img src="../images/editor-2.png" /></p><p>The initial size of an edit window is specified by the <span class="Parameter">edit_rows</span> and <span class="Parameter">edit_cols</span> parameters. The first edit window is positioned at 0 0. Subsequent ones are staggered according to the values of the <span class="Parameter">edit_offset_y</span> and <span class="Parameter">edit_offset_x</span> parameters.</p><p>By default, the Session has the Editor docked along the right edge of the Session window. When you edit a function, the Editor window automatically springs into view as illustrated overleaf.</p><p><img src="../images/editor-3.png" /></p><p><img src="../images/editor-4.png" /></p><p>You can resize the Editor pane to view more or less of the Session itself, by dragging its title bar.</p><p>Using the buttons in the title bar, you can instantly maximise the Editor pane to allow you to concentrate on editing, or minimise it to reveal the entire Session. In either case, the restore button quickly restores the 2-pane layout.</p><p>The picture below shows the effect of maximising the Editor. The <tt>BUILD_SESSION</tt> edit window is itself maximised within the Editor too.</p><p><img src="../images/editor-5.png" /></p><p>Note that when the Editor has the focus, the Editor menubar is displayed in place of the Session menubar. </p><h4><a name="Window_Management_Classic"></a>Window Management (Classic Dyalog mode) </h4><p>If <span class="Name">Classic Dyalog mode</span> is selected (<span class="Name">Options/Configure/Trace/Edit</span>) each Edit window is a top-level window created as a child of the Session window. This means that Edit windows always appear on top of the Session.</p><p>The first edit window is created at the position specified by the <span class="Parameter">edit_first_y</span> and <span class="Parameter">edit_first_x</span> parameters. The initial size of an edit window is specified by the <span class="Parameter">edit_rows</span> and <span class="Parameter">edit_cols</span> parameters.</p><p><img src="../images/editor-6.png" /></p><p><img src="../images/editor-7.png" /></p><p>Subsequent ones are staggered according to the values of the <span class="Parameter">edit_offset_y</span> and <span class="Parameter">edit_offset_x</span> parameters.</p><h4>Moving around an edit window</h4><p>You can move around in the edit window using the scrollbar, the cursor keys, and the PgUp and PgDn keys. In addition, Ctrl+Home (UL) moves the cursor to the beginning of the top-line in the object and Ctrl+End moves the cursor to the end of the last line in the object. Home (LL) and End (RL) move the cursor to the beginning and end respectively of the line containing the cursor.</p><h4>Closing an edit window</h4><p>Closing an edit window from its System Menu has the same effect as choosing Exit from the <span class="Name">File</span> Menu; namely that it fixes the object in the workspace and then closes the edit window.</p><h4>Minimising an edit window</h4><p>Minimising an edit window causes it to be displayed as a Dyalog APL <span class="Name">Edit</span> icon, with the name of the object underneath. The edit window can be restored in the normal way, or by an attempt to re-edit the same name.</p><h4><a name="Editor_Toolbar"></a>Editor ToolBar</h4><p><img src="../images/editor-toolbar.png" /></p><table><tr><td class="IconTable"><img src="../images/editor-line-numbers-icon.png" /><br />Toggle line numbers</td><td class="IconTable">Toggles Line numbers on/off.</td></tr><tr><td class="IconTable"><img src="../images/editor-comment-icon.png" /><br />Comment selected text</td><td class="IconTable">Adds a comment to the beginning of the current line or all selected lines.</td></tr><tr><td class="IconTable"><img src="../images/editor-uncomment-icon.png" /><br />Uncomment selected text</td><td class="IconTable">Removes a comment (if present) from the current line or all selected lines.</td></tr><tr><td class="IconTable"><img src="../images/editor-save-icon.png" /><br />Save changes and return</td><td class="IconTable">Saves changes and closes the current edit window.</td></tr><tr><td class="IconTable"><img src="../images/editor-search-icon.png" /><br />Search Box</td><td class="IconTable">Enter search text and click one of the following two buttons.</td></tr><tr><td class="IconTable"><img src="../images/editor-next-match-icon.png" /><br />Search for Next Match</td><td class="IconTable">Locates the next occurrence of the search text</td></tr><tr><td class="IconTable"><img src="../images/editor-previous-match-icon.png" /><br />Search for Previous Match</td><td class="IconTable">Locates the previous occurrence of the search.</td></tr><tr><td class="IconTable"><img src="../images/editor-search-hidden-text-icon.png" /><br />Search hidden text</td><td class="IconTable">Determines whether or not the search examines collapsed blocks.</td></tr><tr><td class="IconTable"><img src="../images/editor-match-case-icon.png" /><br />Match case</td><td class="IconTable">Specifies whether or not the search is case-sensitive.</td></tr><tr><td class="IconTable"><img src="../images/editor-refactor-method-icon.png" /><br />Refactor text as method</td><td class="IconTable">Inserts a Method template for the selected name.</td></tr><tr><td class="IconTable"><img src="../images/editor-refactor-field-icon.png" /><br />Refactor text as field</td><td class="IconTable">Inserts a Field template for the selected name.</td></tr><tr><td class="IconTable"><img src="../images/editor-refactor-property-icon.png" /><br />Refactor text as property</td><td class="IconTable">Inserts a Property template for the selected name.</td></tr></table><h4><a name="File_Menu"></a>The File Menu</h4><p><img src="../images/editor-file-menu.png" /></p><p>The <span class="Name">File</span> menu illustrated above is displayed when editing a simple object and provides the following options.</p><table><tr><td class="RowTitle">Fix</td><td>Fixes the object in the workspace, but leaves the edit window open. Edit history is also preserved. If the data has changed and the <span class="Parameter">confirm_fix</span> parameter is set, you will be prompted to confirm.</td></tr><tr><td class="RowTitle">Fix Script</td><td>(Disabled unless editing a script)</td></tr><tr><td class="RowTitle">Edit</td><td>Opens an Edit window on the name under the mouse pointer. (Disabled when not).</td></tr><tr><td class="RowTitle">Print</td><td>Prints the current contents of the edit window.</td></tr><tr><td class="RowTitle">Print Setup</td><td>Displays the <span class="Name">Print Configuration</span> dialog box.</td></tr><tr><td class="RowTitle">Properties</td><td>Displays the <span class="Name">Object Properties</span> dialog box for the current object.</td></tr><tr><td class="RowTitle">Exit (and Fix)</td><td>Fixes the object in the workspace and closes the edit window. If the data has changed and the confirm_exit parameter is set, you will be prompted to confirm.</td></tr><tr><td class="RowTitle">Exit (and fix script)</td><td>(Disabled unless editing a script)</td></tr><tr><td class="RowTitle">Exit and discard changes</td><td>Closes the edit window, but does not fix the object in the workspace. If the data has changed and the <span class="Parameter">confirm_abort</span> parameter is set, you will be prompted to confirm.</td></tr></table><h4><a name="File_Menu_Script"></a>The File Menu (editing a script)</h4><p><img src="../images/editor-file-menu-class.png" /></p><p>The File menu illustrated above is displayed when editing a script and provides the following different options from those shown on the preceding page.</p><table><tr><td class="RowTitle">Fix whole script</td><td>Fixes the entire script </td></tr><tr><td class="RowTitle">Fix only functions</td><td>Fixes only the functions in the script.</td></tr><tr><td class="RowTitle">Exit and fix whole script</td><td>Fixes the entire script, and exits the Editor.</td></tr><tr><td class="RowTitle">Exit and fix only functions</td><td>Fixes only the functions in the script and exits the Editor.</td></tr></table><h4>Editing Scripts</h4><p>Suppose that you have a Class that manages a list of items in a shared Field, so somewhere in the script would appear a line such as:-</p><pre>     :Field shared public List {gets} {zilde}</pre><p>You run your application for a bit, and <tt>List</tt>, which was initially empty, gets updated as new instances of the Class are created. You then edit the Class to add a new function, or fix a bug. In this instance, when you exit the editor you <b>may not</b> want <tt>List</tt> to be reset back to the empty vector although you <b>do want</b> the new version of the function(s) in the Class to be fixed.</p><p>Nevertheless whenever you edit the Class <span class="Italic">when it is not suspended</span>, you probably always want the entire script to be re-fixed, and <tt>List</tt> re-initialised.</p><p>The options in the <span class="Name">File</span> menu shown above provide for these alternatives.</p><p>In addition, the <span class="Name">Configuration dialog</span> (See <a href="configuration-dialog.html#Fixing_Scripts" class="MCXref_0">Fixing Scripts</a>) allows you to define  the behaviour of the keystrokes &lt;EP&gt; and &lt;S1&gt; for both the suspended case and the non-suspended case. This association will be displayed against the appropriate action according to the state of the script you are editing. </p><h4><a name="Edit_Menu"></a>The Edit Menu</h4><p>The <span class="Name">Edit</span> menu provides a means to execute those commands that are concerned with editing text. The Edit menu and the actions it provides are described below. </p><p><img src="../images/editor-edit-menu.png" /></p><table><tr><td class="RowTitle">Reformat</td><td>Reformats the function body in the edit window, indenting control structures as appropriate.</td></tr><tr><td class="RowTitle">Undo</td><td>Undoes the last change made to the object. Repeated use of this command sequentially undoes each change made since the edit window was opened.</td></tr><tr><td class="RowTitle">Redo</td><td>Re-applies the previous undone change. Repeated use of this command sequentially restores every undone change.</td></tr><tr><td class="RowTitle">Cut</td><td>Copies the selected text to the clipboard and removes it from the object.</td></tr><tr><td class="RowTitle">Copy</td><td>Copies the selected text to the clipboard.</td></tr><tr><td class="RowTitle">Paste</td><td>Copies the text in the clipboard into the object at the current location of the input cursor.</td></tr><tr><td class="RowTitle">Paste Unicode</td><td>Same as <span class="Name">Paste</span>, but gets the Unicode text from the clipboard and converts to <tt>⎕AV</tt></td></tr><tr><td class="RowTitle">Paste Non-Unicode</td><td>Same as <span class="Name">Paste</span>, but gets the ANSI text from the clipboard and converts to <tt>⎕AV</tt>.</td></tr><tr><td class="RowTitle">Clear</td><td>Deletes the selection or the character under the cursor. Has no effect on the clipboard</td></tr><tr><td class="RowTitle">Open Line</td><td>Inserts a blank line immediately below the current one.</td></tr><tr><td class="RowTitle">Delete Line</td><td>Deletes the current line.</td></tr><tr><td class="RowTitle">Goto Line</td><td>Prompts for a line number, then positions the cursor on that line.</td></tr><tr><td class="RowTitle">Find</td><td>Displays the <span class="Name">Find</span> dialog box.</td></tr><tr><td class="RowTitle">Replace</td><td>Displays the <span class="Name">Replace</span> dialog box.</td></tr><tr><td class="RowTitle">Comment selected lines</td><td>Adds a comment symbol to the beginning of all selected lines.</td></tr><tr><td class="RowTitle">UnComment selected lines</td><td>Removes a comment symbol from the beginning of all selected lines.</td></tr><tr><td class="RowTitle">Toggle Local name</td><td>Adds or removes the name under the cursor to/from the function header line.</td></tr></table><p>The <span class="Name">Find</span> and <span class="Name">Replace</span> items are used to display the <span class="Name">Find</span> dialog box and the <span class="Name">Find/Replace</span> dialog box respectively. These boxes are used to perform search and replace operations and are described later in this Chapter.</p><p>Once displayed, each of the two dialog boxes remains on the screen until it is either closed or replaced by the other. This is convenient if the same operations are to be performed over and over again, and/or in several windows. <span class="Name">Find</span> and <span class="Name">Find/Replace</span> operations are effective in the window that previously had the focus.</p><h4><a name="Refactor_Menu"></a>The Refactor Menu</h4><p><img src="../images/editor-refactor-menu.png" /></p><p>The <span class="Name">Refactor</span> menu illustrated above applies only when editing a Class and provides the following options. In each case, the user must highlight a name in the Edit window, and then select one of these options to insert the appropriate template for that name into the body of the Class. </p><table><tr><td class="RowTitle">Add text as Field</td><td>Inserts a Field template for the selected name.</td></tr><tr><td class="RowTitle">Add text as Property</td><td>Inserts a Property template for the selected name.</td></tr><tr><td class="RowTitle">Add text as Method</td><td>Inserts a Method template for the selected text name.</td></tr></table><h4><a name="View_Menu"></a>The View Menu</h4><p><img src="../images/editor-view-menu.png" /></p><p>The <span class="Name">View</span> menu, illustrated above, provides the following actions.</p><table><tr><td class="RowTitle">Trace</td><td>Displays a column to the left of the function that displays <tt>⎕TRACE</tt> settings</td></tr><tr><td class="RowTitle">Stop</td><td>Displays a column to the left of the function that displays <tt>⎕STOP</tt> settings</td></tr><tr><td class="RowTitle">Monitor</td><td>Displays a column to the left of the function that displays <tt>⎕MONITOR</tt> settings</td></tr><tr><td class="RowTitle">Line Numbers</td><td>Toggles the display of line numbers on/off.</td></tr><tr><td class="RowTitle">Function Line Numbers</td><td>Toggles the display of line numbers on <span class="Italic">individual functions</span> on/off. This option is only enabled when editing a Class, Namespace script or Interface.</td></tr><tr><td class="RowTitle">Tree View</td><td>Toggles the display of the treeview in the left-hand pane.</td></tr><tr><td class="RowTitle">Outlining</td><td>Turns outlining on and off.</td></tr><tr><td class="RowTitle">Expand All Outlines</td><td>Expands all outlines.</td></tr><tr><td class="RowTitle">Collapse All Outlines</td><td>Collapses all outlines</td></tr><tr><td class="RowTitle">Expand all Outlines below here</td><td>Expands all outlines below the level of the current line.</td></tr></table><h4>Function Line Numbers</h4><p>The <span class="Name">Function Line Numbers</span> option in the Editor menu provides an additional level of line-numbering. If selected, line numbers are displayed <span class="Italic">independently</span> on each individual function (or operator) in the Class. This option is only enabled when you are editing a Class, Namespace script or Interface, and is disabled for all other types of object.</p><p>Note that function line-numbering and general line-numbering are independent options and it is possible to have the entire Class numbered (from [0] to the number of lines in the Class) in addition to having line-numbering on each individual function.</p><h4><a name="Window_Menu"></a>The Window Menu</h4><p>The <span class="Name">Window</span> menu provides a means to control the display of the various edit windows. The <span class="Name">Window</span> menu and the actions it provides are described below. </p><p><img src="../images/editor-window-menu.png" /></p><table><tr><td class="RowTitle">Close All Windows</td><td>Closes all the edit windows. If <span class="Name">Confirm on Edit Window Closed</span> is checked, you will be prompted to confirm for any objects that you have changed.</td></tr><tr><td class="RowTitle">Cascade</td><td>Arranges the edit windows in overlapping fashion.</td></tr><tr><td class="RowTitle">Tile</td><td>Arranges the edit windows in a tiling fashion.</td></tr><tr><td class="RowTitle">Arrange Icons</td><td>Arranges any minimised edit windows.</td></tr><tr><td class="RowTitle">Editor</td><td>Allows you to Select the edit window corresponding to the named object.</td></tr></table><h4><a name="Using"></a>Using the Editor</h4><h4>Creating a New Function</h4><p>Type the name of your function and invoke the editor. To do this you may press Shift+Enter, or select <span class="Name">Edit</span> from the <span class="Name">Action</span> menu, or double-click the left button on your mouse, or click the <span class="Name">Edit</span> tool in the tool bar. A new window will appear on the screen with the name you have chosen displayed in the top border. The name is also inserted in the function header and the cursor positioned to the right. The new window is automatically given the input focus.</p><h4>Line-Numbers on/off</h4><p>Try changing the line numbers setting by clicking on the <span class="Name">Line Numbers </span>option in the <span class="Name">Options</span> menu. Note that line-numbering on/off is effective for <b>all</b> edit windows.</p><h4>Adding Lines</h4><p>If the keyboard is in <span class="Name">Insert</span> mode, pressing Enter at the end of a line opens you a new blank line under the current one and positions the cursor there ready for input. You can also open a new blank line by pressing Ctrl+Shift+Insert (OP).</p><p>If the cursor is at the end of the last line in the function, pressing Enter adds another line even if the keyboard is in Replace mode.</p><h4>Indenting Text</h4><p>Dyalog APL allows you to insert leading spaces in lines of a function and (unless the <span class="Parameter">AutoFormat</span> parameter is set) preserves these spaces between editing sessions. Embedded spaces are however discarded. You can enter spaces using the space bar or the Tab key. Pressing Tab inserts spaces up to the next tab stop corresponding to the value of the <span class="Parameter">TabStops</span> parameter. If the <span class="Parameter">AutoIndent</span> parameter is set, new lines are automatically indented the same amount as the preceding line.</p><h4>Reformatting</h4><p>The RD command (which by default is mapped to Keypad-Slash) reformats a function according to your <span class="Parameter">AutoFormat</span> and <span class="Parameter">TabStops</span> settings.</p><h4>Deleting Lines</h4><p>To delete a block of lines, select them by dragging the mouse or using the keyboard and then press Delete or select <span class="Name">Clear</span> from the <span class="Name">Edit</span> menu. A quick way to delete the current line without selecting it first is to press Ctrl+Delete (DK) or select <span class="Name">Delete Line</span> from the <span class="Name">Edit</span> menu.</p><h4>Copying Lines</h4><p>Select the lines you wish to copy by dragging the mouse or using the keyboard. Then press Ctrl+Insert or select <span class="Name">Copy</span> from the <span class="Name">Edit</span> menu. This action copies the selection to the clipboard. Now position the input cursor where you wish to make the copy and press Shift+Insert, or select <span class="Name">Paste</span> from the <span class="Name">Edit</span> menu. You can also use this method to duplicate a ragged block of text.</p><p>To copy text using drag-and-drop editing:</p><ol><li value="1">Select the text you want to move.</li><li value="2">Hold down the Ctrl key, point to the selected text and then press and hold down the left mouse button. When the drag-and-drop pointer appears, drag the cursor to a new location.</li><li value="3">Release the mouse button to drop the text into place.</li></ol><h4>Moving Lines</h4><p>Select the lines you wish to copy by dragging the mouse or using the keyboard. Then press Shift+Delete or select <span class="Name">Cut</span> from the Edit menu. This action copies the selection to the clipboard and removes it. Now position the input cursor at the new location and press Shift+Insert, or select <span class="Name">Past</span>e from the Edit menu. You can also use this method to move a <span class="Italic">ragged</span> block of text.</p><p>To move text using drag-and-drop editing:</p><ol><li value="1">Select the text you want to move.</li><li value="2">Point to the selected text and then press and hold down the left mouse button. When the drag-and-drop pointer appears, drag the cursor to a new location.</li><li value="3">Release the mouse button to drop the text into place.</li></ol><h4>Joining and Splitting Lines</h4><p>To join a line to the previous one: select Insert mode; position the cursor on the first character in the line; press Bksp.</p><p>To split a line: select Insert mode; position the cursor at the place you want it split; press Return.</p><h4>Toggling Localisation</h4><p>The TL command (which by default is mapped to Ctrl+Up) toggles the localisation of the name under the cursor. If the name is currently global, pressing Ctrl+Up causes the name to be added to the list of locals in the function header. If the name is already localised, pressing Ctrl+Alt+l removes it from the header.</p><h4><a name="Outlining"></a>Outlining</h4><p>When you are editing a function, outlining identifies the blocks of code within control structures, and allows you to collapse and expand these blocks so that you can focus your attention on particular parts of the code</p><p>The picture below shows the result of opening the function <tt>⎕SE.cbtop.TB_POPUP</tt>.</p><pre>      )ed ⎕SE.cbtop.TB_POPUP</pre><p><img src="../images/editor-outlining-1.png" /></p><p>Notice that the various control structure blocks are delineated by a treeview diagram.</p><ul><li value="1">When you hover the mouse pointer over one of the boxes that mark the start of a block , the line marking the extent of that block becomes highlighted, as shown above.</li><li value="2">If you click on a <img src="../images/editor-outlining-collapse-icon.png" /> box, the corresponding section collapses, so that only the first line of the block is displayed, as shown below.</li><li value="3">If you click on a  <img src="../images/editor-outlining-expand-icon.png" /> box, the corresponding section is expanded.</li></ul><p><img src="../images/editor-outlining-2.png" /></p><h4><a name="Sections"></a>Sections</h4><p>Functions and scripted objects (classes, namespaces etc.) can be subdivided into Sections with <tt>:Section</tt> and <tt>:EndSection</tt> statements. Both statements may be followed by an optional and arbitrary name or description. The purpose is to split the function up into sections that you can open and close in the Editor, thereby aiding readability and code management. Sections have no effect on the execution of the code, but must follow the nesting rules of other control structures.</p><p>The following picture illustrates the use of sections in a function called <tt>DumpWindow</tt>. The function is divided into 5 sections named <tt>Comments, Init</tt>, <tt>NAs, MakeBitmap</tt> and <tt>CopyToClipBoard</tt>.</p><p>The first picture shows the function with all sections closed.</p><p><img src="../images/editor-sections-1.png" /></p><p>The next picture shows the effect of opening the <span class="Name">Comments</span> section. Notice how this is delineated by the statements:</p><pre>      :Section Comments
      ...
      :EndSection Comments</pre><p><img src="../images/editor-sections-2.png" /></p><p>And with the <tt>Init</tt> section opened too:</p><p><img src="../images/editor-sections-3.png" /></p><p>Finally, with all the sections opened:</p><p><img src="../images/editor-sections-4.png" /></p><h4><a name="Editing_Classes"></a>Editing Classes</h4><p>The picture below shows the result of opening the <tt>ComponentFile</tt> class. Notice how each function is delineated separately and that each function is individually line-numbered.</p><pre>      )ed ComponentFile</pre><p><img src="../images/editor-classes-1.png" /></p><p>The outlining feature really comes into its own when editing classes because you can collapse and expand whole functions. The picture below shows the effect of collapsing all but the <tt>Append</tt> method.</p><p><img src="../images/editor-classes-2.png" /></p><p>When you edit a class, a separate treeview is optionally displayed in the left pane to make it easy to navigate within the class. When you click on a name in the treeview, the editor automatically scrolls the appropriate section into view (if necessary) and positions the edit cursor at its start. The picture below illustrates the result of opening the <tt>[Methods]</tt> section and then clicking on <span class="Name">Rename</span>.</p><p><img src="../images/editor-classes-3.png" /></p><h4><a name="Script_Sections"></a>Sections within Scripts</h4><p>Scripts can also be subdivided into Sections using <tt>:Section</tt> and <tt>:EndSection</tt> statements. As with single functions, the purpose is only to split the script up into sections that you can open and close in the Editor. Sections have no effect on the execution of the code.  </p><p>The following picture illustrates a Class named <tt>actuarial</tt> which, for editing purposes, has been sub-divided into five separate Sections named <tt>Main</tt>, <tt>MenuHandlers</tt>, <tt>Validation</tt>, <tt>Utilities</tt> and <tt>OldCode</tt>. In this picture, all the Sections are closed.</p><p><img src="../images/editor-classes-4.png" /></p><p>The next picture shows the effect of opening just the <tt>Main</tt> section.</p><p><img src="../images/editor-classes-5.png" /></p><p>Notice that this section is delimited by the two statements:</p><pre>      :Section Main
      ...
      :EndSection Main</pre><p>In this picture the 3 functions within the <tt>Main</tt> section are temporarily closed.</p><p>Similarly, the section called <tt>Validation</tt> is delimited by:</p><pre>      :Section Validation
      ...
      :EndSection Validation</pre><p><img src="../images/editor-classes-6.png" /></p><h3><a name="Find_Replace"></a>Find and Replace Dialogs</h3><p>The <span class="Name">Find</span> and <span class="Name">Find/Replace</span> dialog boxes are used to locate and modify text in an Edit window.</p><p><img src="../images/find-replace-dialog.png" /></p><table><tr><td class="RowTitle">Search For</td><td>Enter the text string that you want to find. Note that the text from the last 10 searches is available from the drop-down list. If appropriate, the search text is copied from the Find Objects tool. This makes it easy to first search for functions containing a particular string, and then to locate the string in the functions.</td></tr><tr><td class="RowTitle">Replace With</td><td>Enter the text string that you want to use as a replacement. Note that the text from the last 10 replacements is available from the drop-down list.</td></tr><tr><td class="RowTitle">Match Case</td><td>Check this box if you want the search to be case-sensitive.</td></tr><tr><td class="RowTitle">Match Whole Word</td><td>Check this box if you want the search to only match whole words.</td></tr><tr><td class="RowTitle">Use Regular Expressions</td><td>Check this box if you want to use various wild card symbols. </td></tr><tr><td class="RowTitle">AutoMove</td><td>If checked, the <span class="Name">Find</span> or <span class="Name">Find/Replace</span> dialog box will automatically position itself so as not to obscure a matched search string in the edit window.</td></tr><tr><td class="RowTitle">Direction</td><td>Select <span class="Name">Up</span> or <span class="Name">Down</span> to control the direction of search.</td></tr></table><p> </p><h4>Using Find and Replace</h4><p>Find and Replace work on the concept of a <span class="Italic">current search string</span> and a <span class="Italic">current replace string</span> which are entered using the <span class="Name">Find</span> and <span class="Name">Find/Replace</span> Dialog boxes. These boxes also contain buttons for performing search/replace operations.</p><p>Suppose that you want to search through a function for references to the string "Adam". It is probably best to work from the start of the function, so first position the cursor there (by pressing Ctrl+Home). Then select <span class="Name">Find</span> from the <span class="Name">Edit</span> menu. The <span class="Name">Find</span> Dialog box will appear on your screen with the input cursor positioned in the edit box awaiting your input. Type "Adam" and click the <span class="Name">Find Next</span> button (or press Return), and the cursor will locate the first occurrence. Clicking <span class="Name">Find Next </span>again will locate the second occurrence. You can change the direction of the search by selecting <span class="Name">Up</span> instead of <span class="Name">Down</span>. You could search another function for "Adam" by opening a new Edit window for it and clicking <span class="Name">Find Next</span>. You do not have to redefine the search string.</p><p>Now let us suppose that you wish to replace all occurrences of "Adam" with "Amanda". First select <span class="Name">Replace</span> from the <span class="Name">Edit</span> menu. This will cause the <span class="Name">Find Dialog</span> box to be replaced by the <span class="Name">Find/Replace</span> Dialog box. Enter the string "Amanda" into the box labelled<span class="Name"> Replace</span> With, then click <span class="Name">Replace All</span>. All occurrences of "Adam" in the current Edit window are changed to "Amanda". To repeat the same global change in another function, simply open an edit window and click <span class="Name">Replace All</span> again. If instead you only want to change particular instances of "Adam" to "Amanda" you may use <span class="Name">Find Next</span> to locate the ones you want, and then <span class="Name">Replace</span> to make each individual alteration.</p><h4>Saving and Quitting</h4><p>To save the function and terminate the edit, press Esc (EP) or select Exit from the <span class="Name">File</span> menu. The new version of the function replaces the previous one (if any) and the edit window is destroyed.</p><p>Alternatively, you can select <span class="Name">Fix</span> from the <span class="Name">File</span> menu. This fixes the new version of the function in the workspace, but leaves the edit window open. Note that the history is also retained, so you can subsequently undo some changes and fix the function again.</p><p>To abandon the edit, press Shift+Esc (QT) or select <span class="Name">Abort</span> from the <span class="Name">File</span> menu. This destroys the edit window but does not fix the function. The previous version (if any) is unchanged.</p><script src="../../../help.js"></script></body>
</html>